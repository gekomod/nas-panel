import{X as Z,Y as je,Z as F,$ as Me,a0 as Ue,D as Ie,c as L,o as ce,a1 as We,k as d,a2 as Fe,_ as Ze,u as Oe,r as A,b as x,d as E,e as V,g as a,f as n,w as i,I as y,t as k,m as r,h as I,i as N,F as qe,l as He,n as Ke,v as W,x as $,z as ue,C as Ge}from"./index-naspanel.js";function me(s){return Me()?(Ue(s),!0):!1}const ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Qe=Object.prototype.toString,Xe=s=>Qe.call(s)==="[object Object]";function Ye(s){let u;function b(){return u||(u=s()),u}return b.reset=async()=>{const w=u;u=void 0,w&&await w},b}function te(s){return Array.isArray(s)?s:[s]}function et(s,u,b={}){const{immediate:w=!0,immediateCallback:S=!1}=b,_=Z(!1);let C;function c(){C&&(clearTimeout(C),C=void 0)}function m(){_.value=!1,c()}function g(...v){S&&s(),c(),_.value=!0,C=setTimeout(()=>{_.value=!1,C=void 0,s(...v)},F(u))}return w&&(_.value=!0,ne&&g()),me(m),{isPending:je(_),start:g,stop:m}}function tt(s,u,b){return Ie(s,u,{...b,immediate:!0})}const nt=ne?window:void 0,ve=ne?window.navigator:void 0;function at(s){var u;const b=F(s);return(u=b?.$el)!=null?u:b}function pe(...s){const u=[],b=()=>{u.forEach(c=>c()),u.length=0},w=(c,m,g,v)=>(c.addEventListener(m,g,v),()=>c.removeEventListener(m,g,v)),S=L(()=>{const c=te(F(s[0])).filter(m=>m!=null);return c.every(m=>typeof m!="string")?c:void 0}),_=tt(()=>{var c,m;return[(m=(c=S.value)==null?void 0:c.map(g=>at(g)))!=null?m:[nt].filter(g=>g!=null),te(F(S.value?s[1]:s[0])),te(d(S.value?s[2]:s[1])),F(S.value?s[3]:s[2])]},([c,m,g,v])=>{if(b(),!c?.length||!m?.length||!g?.length)return;const R=Xe(v)?{...v}:v;u.push(...c.flatMap(D=>m.flatMap(P=>g.map(B=>w(D,P,B,R)))))},{flush:"post"}),C=()=>{_(),b()};return me(b),C}function lt(){const s=Z(!1),u=We();return u&&ce(()=>{s.value=!0},u),s}function fe(s){const u=lt();return L(()=>(u.value,!!s()))}function de(s,u={}){const{controls:b=!1,navigator:w=ve}=u,S=fe(()=>w&&"permissions"in w),_=Z(),C=typeof s=="string"?{name:s}:s,c=Z(),m=()=>{var v,R;c.value=(R=(v=_.value)==null?void 0:v.state)!=null?R:"prompt"};pe(_,"change",m,{passive:!0});const g=Ye(async()=>{if(S.value){if(!_.value)try{_.value=await w.permissions.query(C)}catch{_.value=void 0}finally{m()}if(b)return Fe(_.value)}});return g(),b?{state:c,isSupported:S,query:g}:c}function ot(s={}){const{navigator:u=ve,read:b=!1,source:w,copiedDuring:S=1500,legacy:_=!1}=s,C=fe(()=>u&&"clipboard"in u),c=de("clipboard-read"),m=de("clipboard-write"),g=L(()=>C.value||_),v=Z(""),R=Z(!1),D=et(()=>R.value=!1,S,{immediate:!1});async function P(){let f=!(C.value&&p(c.value));if(!f)try{v.value=await u.clipboard.readText()}catch{f=!0}f&&(v.value=G())}g.value&&b&&pe(["copy","cut"],P,{passive:!0});async function B(f=F(w)){if(g.value&&f!=null){let J=!(C.value&&p(m.value));if(!J)try{await u.clipboard.writeText(f)}catch{J=!0}J&&T(f),v.value=f,R.value=!0,D.start()}}function T(f){const J=document.createElement("textarea");J.value=f??"",J.style.position="absolute",J.style.opacity="0",document.body.appendChild(J),J.select(),document.execCommand("copy"),J.remove()}function G(){var f,J,M;return(M=(J=(f=document?.getSelection)==null?void 0:f.call(document))==null?void 0:J.toString())!=null?M:""}function p(f){return f==="granted"||f==="prompt"}return{isSupported:g,text:v,copied:R,copy:B}}const it={class:"cron-jobs-dashboard"},st={class:"header-content"},rt={class:"header-left"},ut={class:"header-icon"},dt={class:"header-text"},ct={class:"subtitle"},mt={class:"header-actions"},vt={class:"stats-content"},pt={class:"stat-item"},ft={class:"stat-icon stat-total"},yt={class:"stat-info"},gt={class:"stat-item"},ht={class:"stat-icon stat-active"},_t={class:"stat-info"},wt={class:"stat-item"},zt={class:"stat-icon stat-inactive"},bt={class:"stat-info"},kt={class:"stat-item"},St={class:"stat-icon stat-system"},Ct={class:"stat-info"},Jt={class:"cron-content"},At={class:"actions-content"},xt={class:"actions-filters"},Vt={class:"card-header"},$t={key:0,class:"loading-spinner"},Rt={key:2,class:"jobs-list"},Dt={class:"job-icon"},Lt={class:"job-content"},Bt={class:"job-header"},Et={class:"job-title"},Nt={class:"job-schedule"},Pt={class:"job-meta"},Tt=["title"],jt=["title"],Mt={class:"job-description"},Ut={class:"job-command"},It={class:"job-actions"},Wt={key:3,class:"pagination-section"},Ft={key:0,class:"schedule-preview"},Zt={key:1,class:"schedule-error"},Ot={class:"cron-help"},qt={__name:"CronJobs",setup(s){const{t:u}=Oe(),{copy:b}=ot(),w=A([]),S=A(!1),_=A(!1),C=A(!1),c=A(!1),m=A(!1),g=A({}),v=A(1),R=A(10),D=A("all"),P=A(""),B=A(!1),T=A(!0),G=A(""),p=A({id:"",name:"",schedule:"",command:"",description:"",isActive:!0}),f=A(),J={name:[{required:!0,message:"Nazwa jest wymagana",trigger:"blur"},{min:3,message:"Nazwa musi mieć co najmniej 3 znaki",trigger:"blur"}],schedule:[{required:!0,message:"Harmonogram jest wymagany",trigger:"blur"},{validator:(t,e,l)=>{e&&!ae(e)?l(new Error("Nieprawidłowy format harmonogramu cron")):l()},trigger:"blur"}],command:[{required:!0,message:"Komenda jest wymagana",trigger:"blur"},{min:3,message:"Komenda musi mieć co najmniej 3 znaki",trigger:"blur"}]},M=L(()=>w.value.length),ye=L(()=>w.value.filter(t=>t.isActive).length),ge=L(()=>w.value.filter(t=>!t.isActive).length),he=L(()=>w.value.filter(t=>t.isSystemJob).length),U=L(()=>{let t=[...w.value];if(D.value==="active"?t=t.filter(e=>e.isActive):D.value==="inactive"?t=t.filter(e=>!e.isActive):D.value==="system"?t=t.filter(e=>e.isSystemJob):D.value==="user"&&(t=t.filter(e=>!e.isSystemJob)),P.value){const e=P.value.toLowerCase();t=t.filter(l=>l.name.toLowerCase().includes(e)||l.command.toLowerCase().includes(e)||l.description&&l.description.toLowerCase().includes(e))}return t.sort((e,l)=>e.isActive!==l.isActive?l.isActive-e.isActive:e.isSystemJob!==l.isSystemJob?l.isSystemJob-e.isSystemJob:new Date(l.nextRun||0)-new Date(e.nextRun||0)),t}),_e=L(()=>{const t=(v.value-1)*R.value,e=t+R.value;return U.value.slice(t,e)}),we=L(()=>D.value!=="all"||P.value?"Brak zadań dla wybranych filtrów":"Brak zadań cron. Dodaj pierwsze zadanie!"),ze=L(()=>B.value?"Edytuj zadanie cron":"Dodaj nowe zadanie cron"),ae=t=>{try{const e=t.trim().split(/\s+/);if(e.length!==5&&!t.startsWith("@"))return!1;if(["@yearly","@annually","@monthly","@weekly","@daily","@hourly","@reboot"].includes(t))return!0;const z=[h=>/^[\d*,\/\-\?LW]+$/.test(h),h=>/^[\d*,\/\-\?]+$/.test(h),h=>/^[\d*,\/\-\?LW]+$/.test(h),h=>/^[\d*,\/\-\?]+$/.test(h),h=>/^[\d*,\/\-\?L#]+$/.test(h)];for(let h=0;h<5;h++)if(!z[h](e[h]))return!1;return!0}catch{return!1}},X=t=>{if(T.value=ae(t),T.value)try{const e=new Date,l=be(t);l&&(G.value=ke(l))}catch(e){console.error("Error calculating next run:",e)}return T.value},be=t=>{try{const e=new Date,l=new Date(e),z=t.split(/\s+/);if(z.length===5){const[h,j]=z;h!=="*"&&h!=="*/1"&&(l.setMinutes(parseInt(h)||0),l<e&&l.setHours(l.getHours()+1)),j!=="*"&&j!=="*/1"&&(l.setHours(parseInt(j)||0),l<e&&l.setDate(l.getDate()+1))}return l}catch(e){return console.error("Error calculating next run:",e),null}},ke=t=>t?new Date(t).toLocaleString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",le=t=>{if(!t)return"nigdy";const e=new Date,l=new Date(t),z=Math.floor((l-e)/(1e3*60*60));return z<0?"przeszłe":z<1?`za ${Math.floor((l-e)/6e4)} min`:z<24?`za ${z} godz.`:l.toLocaleDateString("pl-PL")},oe=t=>t?new Date(t).toLocaleString("pl-PL",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",O=async()=>{S.value=!0;try{const t=await W.get("/system/cron-jobs");w.value=t.data.map(e=>({...e,nextRun:e.nextRun?new Date(e.nextRun):null,lastRun:e.lastRun?new Date(e.lastRun):null,isActive:e.isActive!==void 0?e.isActive:!0}))}catch(t){$.error(u("cronJobs.fetchError")||"Błąd podczas ładowania zadań"),console.error("Fetch jobs error:",t)}finally{S.value=!1}},ie=()=>{B.value=!1,p.value={id:"",name:"",schedule:"",command:"",description:"",isActive:!0},T.value=!0,ue(()=>{f.value&&f.value.clearValidate()}),_.value=!0},Se=t=>{B.value=!0,p.value={id:t.id,name:t.name,schedule:t.schedule,command:t.command,description:t.description||"",isActive:t.isActive},X(t.schedule),ue(()=>{f.value&&f.value.clearValidate()}),_.value=!0},Ce=async()=>{if(f.value)try{if(await f.value.validate(),!X(p.value.schedule)){$.warning("Popraw harmonogram przed zapisaniem");return}if(m.value=!0,B.value)await W.put(`/system/cron-jobs/${p.value.id}`,p.value),$.success("Zadanie zaktualizowane pomyślnie");else{const t=await W.post("/system/cron-jobs",p.value);p.value.id=t.data.id,$.success("Zadanie dodane pomyślnie")}_.value=!1,await O()}catch(t){t.response?.status===400?$.error(t.response.data.error||"Błąd walidacji danych"):t.name!=="ValidateError"&&($.error("Błąd podczas zapisywania zadania"),console.error("Save job error:",t))}finally{m.value=!1}},Je=async t=>{const e=w.value.find(l=>l.id===t);if(e){if(e.isSystemJob){$.warning("Zadania systemowe nie mogą być usunięte");return}try{await Ge.confirm(`Czy na pewno chcesz usunąć zadanie "${e.name}"?`,"Potwierdzenie usunięcia",{type:"warning",confirmButtonText:"Usuń",cancelButtonText:"Anuluj"}),await W.delete(`/system/cron-jobs/${t}`),$.success("Zadanie usunięte pomyślnie"),await O()}catch(l){l!=="cancel"&&($.error("Błąd podczas usuwania zadania"),console.error("Delete job error:",l))}}},Ae=async t=>{const e=w.value.find(l=>l.id===t);if(e){if(e.isSystemJob&&!e.isActive){$.warning("Nie można uruchomić nieaktywnego zadania systemowego");return}try{g.value[t]=!0,await W.post(`/system/cron-jobs/${t}/run`),$.success("Zadanie uruchomione pomyślnie"),await O()}catch(l){$.error("Błąd podczas uruchamiania zadania"),console.error("Run job error:",l)}finally{g.value[t]=!1}}},xe=async t=>{const e=w.value.find(l=>l.id===t);if(!(!e||e.isSystemJob))try{const l=!e.isActive;await W.patch(`/system/cron-jobs/${t}/status`,{isActive:l}),e.isActive=l,$.success(`Zadanie ${l?"aktywowane":"dezaktywowane"} pomyślnie`)}catch(l){$.error("Błąd podczas zmiany statusu zadania"),console.error("Toggle job error:",l)}},Ve=async t=>{try{await b(t),$.success("Skopiowano do schowka")}catch{$.error("Błąd podczas kopiowania")}},$e=()=>{v.value=1},Re=()=>{v.value=1},De=t=>{v.value=t},Le=t=>{R.value=t,v.value=1};return ce(()=>{O()}),(t,e)=>{const l=x("el-icon"),z=x("el-button"),h=x("el-card"),j=x("el-option"),Be=x("el-select"),q=x("el-input"),Y=x("el-tag"),Ee=x("el-empty"),ee=x("el-text"),H=x("el-tooltip"),Ne=x("el-pagination"),K=x("el-form-item"),Pe=x("el-checkbox"),Te=x("el-form"),se=x("el-dialog"),re=x("el-divider");return V(),E("div",it,[a(h,{class:"dashboard-header",shadow:"hover"},{default:i(()=>[n("div",st,[n("div",rt,[n("div",ut,[a(d(y),{icon:"mdi:clock-outline"})]),n("div",dt,[n("h1",null,k(t.$t("cronJobs.title")),1),n("p",ct,k(t.$t("cronJobs.subtitle")||"Zarządzaj zaplanowanymi zadaniami systemowymi"),1)])]),n("div",mt,[a(z,{type:"primary",onClick:ie,loading:c.value},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:plus"})]),_:1}),r(" "+k(t.$t("cronJobs.addJob")),1)]),_:1},8,["loading"]),a(z,{onClick:O,loading:S.value,plain:""},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:refresh"})]),_:1}),r(" "+k(t.$t("common.refresh")||"Odśwież"),1)]),_:1},8,["loading"])])])]),_:1}),a(h,{class:"stats-card",shadow:"hover"},{default:i(()=>[n("div",vt,[n("div",pt,[n("div",ft,[a(d(y),{icon:"mdi:clock"})]),n("div",yt,[n("h3",null,k(M.value),1),e[14]||(e[14]=n("p",null,"Wszystkie zadania",-1))])]),n("div",gt,[n("div",ht,[a(d(y),{icon:"mdi:play-circle"})]),n("div",_t,[n("h3",null,k(ye.value),1),e[15]||(e[15]=n("p",null,"Aktywne zadania",-1))])]),n("div",wt,[n("div",zt,[a(d(y),{icon:"mdi:pause-circle"})]),n("div",bt,[n("h3",null,k(ge.value),1),e[16]||(e[16]=n("p",null,"Nieaktywne zadania",-1))])]),n("div",kt,[n("div",St,[a(d(y),{icon:"mdi:shield-check"})]),n("div",Ct,[n("h3",null,k(he.value),1),e[17]||(e[17]=n("p",null,"Zadania systemowe",-1))])])])]),_:1}),n("div",Jt,[a(h,{class:"actions-card",shadow:"hover"},{default:i(()=>[n("div",At,[e[18]||(e[18]=n("div",{class:"actions-info"},[n("h3",null,"Filtry i akcje"),n("p",null,"Zarządzaj widocznością i stanem zadań")],-1)),n("div",xt,[a(Be,{modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=o=>D.value=o),placeholder:"Status",clearable:"",onChange:$e},{default:i(()=>[a(j,{label:"Wszystkie",value:"all"}),a(j,{label:"Aktywne",value:"active"}),a(j,{label:"Nieaktywne",value:"inactive"}),a(j,{label:"Systemowe",value:"system"}),a(j,{label:"Użytkownika",value:"user"})]),_:1},8,["modelValue"]),a(q,{modelValue:P.value,"onUpdate:modelValue":e[1]||(e[1]=o=>P.value=o),placeholder:"Szukaj po nazwie lub komendzie...",clearable:"",onInput:Re,class:"search-input"},{prefix:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:magnify"})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}),a(h,{class:"jobs-card",shadow:"hover"},{header:i(()=>[n("div",Vt,[n("h2",null,[a(d(y),{icon:"mdi:list-box-outline"}),e[19]||(e[19]=r(" Lista zadań cron ")),U.value.length!==M.value?(V(),I(Y,{key:0,size:"small",type:"info"},{default:i(()=>[r(" Pokazano "+k(U.value.length)+" z "+k(M.value),1)]),_:1})):N("",!0)])])]),default:i(()=>[S.value?(V(),E("div",$t,[a(l,{size:48,class:"is-loading"},{default:i(()=>[a(d(y),{icon:"mdi:loading"})]),_:1}),e[20]||(e[20]=n("p",null,"Ładowanie zadań...",-1))])):U.value.length===0?(V(),I(Ee,{key:1,description:we.value,class:"empty-state"},{image:i(()=>[a(d(y),{icon:"mdi:clock-off-outline",width:"120",height:"120"})]),extra:i(()=>[a(z,{type:"primary",onClick:ie},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:plus"})]),_:1}),e[21]||(e[21]=r(" Dodaj pierwsze zadanie "))]),_:1,__:[21]})]),_:1},8,["description"])):(V(),E("div",Rt,[(V(!0),E(qe,null,He(_e.value,o=>(V(),E("div",{key:o.id,class:Ke(["job-item",{"system-job":o.isSystemJob,inactive:!o.isActive}])},[n("div",Dt,[a(l,{size:24,color:o.isSystemJob?"#8b5cf6":o.isActive?"#10b981":"#64748b"},{default:i(()=>[a(d(y),{icon:o.isSystemJob?"mdi:shield-check":o.isActive?"mdi:play-circle":"mdi:pause-circle"},null,8,["icon"])]),_:2},1032,["color"])]),n("div",Lt,[n("div",Bt,[n("div",Et,[n("h4",null,[r(k(o.name)+" ",1),o.isSystemJob?(V(),I(Y,{key:0,size:"mini",type:"info",effect:"plain",class:"system-tag"},{default:i(()=>[a(l,{size:"12"},{default:i(()=>[a(d(y),{icon:"mdi:shield"})]),_:1}),e[22]||(e[22]=r(" System "))]),_:1,__:[22]})):N("",!0)]),n("div",Nt,[a(Y,{type:o.isActive?"success":"info"},{default:i(()=>[r(k(o.schedule),1)]),_:2},1032,["type"])])]),n("div",Pt,[o.nextRun?(V(),E("span",{key:0,class:"job-time",title:oe(o.nextRun)},[a(d(y),{icon:"mdi:calendar-clock"}),r(" Następne: "+k(le(o.nextRun)),1)],8,Tt)):N("",!0),o.lastRun?(V(),E("span",{key:1,class:"job-time",title:oe(o.lastRun)},[a(d(y),{icon:"mdi:history"}),r(" Ostatnio: "+k(le(o.lastRun)),1)],8,jt)):N("",!0)])]),n("div",Mt,[n("p",null,k(o.description||"Brak opisu"),1)]),n("div",Ut,[a(ee,{truncated:"",type:"info"},{default:i(()=>[n("code",null,k(o.command),1)]),_:2},1024),a(H,{content:"Kopiuj komendę"},{default:i(()=>[a(z,{size:"small",text:"",onClick:Q=>Ve(o.command)},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:content-copy"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),n("div",It,[a(H,{content:"Uruchom teraz"},{default:i(()=>[a(z,{size:"small",circle:"",onClick:Q=>Ae(o.id),loading:g.value[o.id],disabled:o.isSystemJob&&!o.isActive},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:play"})]),_:1})]),_:2},1032,["onClick","loading","disabled"])]),_:2},1024),a(H,{content:o.isActive?"Wyłącz":"Włącz"},{default:i(()=>[a(z,{size:"small",circle:"",type:o.isActive?"warning":"success",onClick:Q=>xe(o.id),disabled:o.isSystemJob},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:o.isActive?"mdi:pause":"mdi:play"},null,8,["icon"])]),_:2},1024)]),_:2},1032,["type","onClick","disabled"])]),_:2},1032,["content"]),o.isSystemJob?N("",!0):(V(),I(H,{key:0,content:"Edytuj"},{default:i(()=>[a(z,{size:"small",circle:"",type:"primary",onClick:Q=>Se(o)},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:pencil"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),a(H,{content:"Usuń"},{default:i(()=>[a(z,{size:"small",circle:"",type:"danger",onClick:Q=>Je(o.id),disabled:o.isSystemJob},{default:i(()=>[a(l,null,{default:i(()=>[a(d(y),{icon:"mdi:delete"})]),_:1})]),_:2},1032,["onClick","disabled"])]),_:2},1024)])],2))),128))])),!S.value&&U.value.length>0?(V(),E("div",Wt,[a(Ne,{"current-page":v.value,"onUpdate:currentPage":e[2]||(e[2]=o=>v.value=o),"page-size":R.value,"onUpdate:pageSize":e[3]||(e[3]=o=>R.value=o),total:U.value.length,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:De,onSizeChange:Le},null,8,["current-page","page-size","total"])])):N("",!0)]),_:1})]),a(se,{modelValue:_.value,"onUpdate:modelValue":e[12]||(e[12]=o=>_.value=o),title:ze.value,width:"600px","close-on-click-modal":!1},{footer:i(()=>[a(z,{onClick:e[11]||(e[11]=o=>_.value=!1)},{default:i(()=>[r(k(t.$t("common.cancel")),1)]),_:1}),a(z,{type:"primary",onClick:Ce,loading:m.value,disabled:!T.value},{default:i(()=>[r(k(B.value?t.$t("common.save"):t.$t("common.add")),1)]),_:1},8,["loading","disabled"])]),default:i(()=>[a(Te,{model:p.value,"label-position":"top",rules:J,ref_key:"jobForm",ref:f},{default:i(()=>[a(K,{label:t.$t("cronJobs.name"),prop:"name"},{default:i(()=>[a(q,{modelValue:p.value.name,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value.name=o),placeholder:"Nazwa zadania",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),a(K,{label:t.$t("cronJobs.schedule"),prop:"schedule"},{default:i(()=>[a(q,{modelValue:p.value.schedule,"onUpdate:modelValue":e[7]||(e[7]=o=>p.value.schedule=o),placeholder:"* * * * *",class:"schedule-input"},{append:i(()=>[a(z,{onClick:e[5]||(e[5]=o=>C.value=!0)},{default:i(()=>[a(d(y),{icon:"mdi:help-circle"}),e[23]||(e[23]=r(" Pomoc "))]),_:1,__:[23]}),p.value.schedule?(V(),I(z,{key:0,onClick:e[6]||(e[6]=o=>X(p.value.schedule))},{default:i(()=>[a(d(y),{icon:"mdi:check"}),e[24]||(e[24]=r(" Sprawdź "))]),_:1,__:[24]})):N("",!0)]),_:1},8,["modelValue"]),p.value.schedule&&T.value?(V(),E("div",Ft,[a(ee,{type:"success"},{default:i(()=>[a(d(y),{icon:"mdi:check-circle"}),r(" Następne wykonanie: "+k(G.value),1)]),_:1})])):N("",!0),p.value.schedule&&!T.value?(V(),E("div",Zt,[a(ee,{type:"danger"},{default:i(()=>[a(d(y),{icon:"mdi:alert-circle"}),e[25]||(e[25]=r(" Nieprawidłowy format cron "))]),_:1,__:[25]})])):N("",!0)]),_:1},8,["label"]),a(K,{label:t.$t("cronJobs.command"),prop:"command"},{default:i(()=>[a(q,{modelValue:p.value.command,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value.command=o),type:"textarea",rows:3,placeholder:"np: curl http://example.com/api/ping",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),a(K,{label:t.$t("cronJobs.description")},{default:i(()=>[a(q,{modelValue:p.value.description,"onUpdate:modelValue":e[9]||(e[9]=o=>p.value.description=o),type:"textarea",rows:2,placeholder:"Opis zadania (opcjonalnie)",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"]),B.value?N("",!0):(V(),I(K,{key:0},{default:i(()=>[a(Pe,{modelValue:p.value.isActive,"onUpdate:modelValue":e[10]||(e[10]=o=>p.value.isActive=o)},{default:i(()=>e[26]||(e[26]=[r(" Aktywuj zadanie od razu ")])),_:1,__:[26]},8,["modelValue"])]),_:1}))]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),a(se,{modelValue:C.value,"onUpdate:modelValue":e[13]||(e[13]=o=>C.value=o),title:"Składnia cron",width:"500px"},{default:i(()=>[n("div",Ot,[e[27]||(e[27]=n("h4",null,[r("Format: "),n("code",null,"* * * * *")],-1)),e[28]||(e[28]=n("p",null,[r("Kolejność pól: "),n("strong",null,"minuta godzina dzień-miesiąca miesiąc dzień-tygodnia")],-1)),a(re),e[29]||(e[29]=n("h5",null,"Przykłady:",-1)),e[30]||(e[30]=n("ul",null,[n("li",null,[n("code",null,"* * * * *"),r(" - co minutę")]),n("li",null,[n("code",null,"*/5 * * * *"),r(" - co 5 minut")]),n("li",null,[n("code",null,"0 * * * *"),r(" - co godzinę (o pełnej godzinie)")]),n("li",null,[n("code",null,"0 0 * * *"),r(" - codziennie o północy")]),n("li",null,[n("code",null,"0 0 * * 0"),r(" - co niedzielę o północy")]),n("li",null,[n("code",null,"0 9-17 * * 1-5"),r(" - co godzinę od 9:00 do 17:00 w dni robocze")]),n("li",null,[n("code",null,"0 0 1 * *"),r(" - pierwszego dnia każdego miesiąca")])],-1)),a(re),e[31]||(e[31]=n("h5",null,"Specjalne wartości:",-1)),e[32]||(e[32]=n("ul",null,[n("li",null,[n("code",null,"@yearly"),r(" - raz w roku (0 0 1 1 *)")]),n("li",null,[n("code",null,"@monthly"),r(" - raz w miesiącu (0 0 1 * *)")]),n("li",null,[n("code",null,"@weekly"),r(" - raz w tygodniu (0 0 * * 0)")]),n("li",null,[n("code",null,"@daily"),r(" - raz dziennie (0 0 * * *)")]),n("li",null,[n("code",null,"@hourly"),r(" - raz na godzinę (0 * * * *)")]),n("li",null,[n("code",null,"@reboot"),r(" - przy każdym restarcie systemu")])],-1))])]),_:1},8,["modelValue"])])}}},Kt=Ze(qt,[["__scopeId","data-v-2812d774"]]);export{Kt as default};
