import{_ as ml,r as m,ae as pl,c as J,D as fl,o as _l,b as y,A as yl,d as v,e as i,g as l,w as a,f as s,k as r,I as u,t as d,m as b,af as bl,B as ge,ad as gl,i as V,h as L,n as ke,p as A,F as N,l as O,v as F,x as p,C as fe,E as kl}from"./index-naspanel.js";const hl={class:"docker-volumes"},wl={class:"stat-content"},Vl={class:"stat-info"},Cl={class:"stat-value"},Dl={class:"stat-content"},zl={class:"stat-info"},Sl={class:"stat-value"},Nl={class:"stat-content"},Fl={class:"stat-info"},xl={class:"stat-value"},$l={class:"stat-content"},Ul={class:"stat-info"},Bl={class:"stat-value"},Ml={class:"header"},Tl={class:"search-section"},Il={class:"actions"},Ll={class:"quick-actions"},Al={class:"volume-name-cell"},Ol={class:"name-text"},jl={class:"mountpoint-cell"},Pl={class:"mountpoint-text"},Rl={class:"action-buttons"},El={key:0,class:"pagination-container"},Jl={key:1,class:"no-data"},Kl={class:"driver-option"},ql={class:"driver-option"},Gl={class:"labels-input"},Ql={key:0,class:"labels-list"},Wl={key:0,class:"inspect-content"},Zl={class:"json-viewer"},Hl={class:"tree-view"},Yl={class:"tree-section"},Xl={class:"tree-item"},et={class:"tree-value"},lt={class:"tree-item"},tt={class:"tree-value"},ot={class:"tree-item"},at={class:"tree-value"},st={class:"tree-item"},nt={class:"tree-value"},it={key:0,class:"tree-section"},rt={class:"tree-key"},ut={class:"tree-value"},dt={key:1,class:"tree-section"},ct={class:"tree-key"},vt={class:"tree-value"},mt={key:2,class:"tree-section"},pt={class:"tree-item"},ft={class:"tree-value"},_t={class:"tree-item"},yt={class:"tree-value"},bt={key:3,class:"tree-section"},gt={class:"tree-key"},kt={class:"tree-value"},ht={key:1,class:"loading-inspect"},wt={class:"container-cell"},Vt={key:0,class:"browse-container"},Ct={class:"browser-toolbar"},Dt={class:"path-bar"},zt={class:"file-browser"},St={key:0,class:"loading-files"},Nt={key:1,class:"empty-folder"},Ft={key:2,class:"file-grid"},xt=["onDblclick","onContextmenu"],$t={class:"file-icon"},Ut={class:"file-info"},Bt={class:"file-name"},Mt={class:"file-size"},Tt={class:"file-modified"},It={key:1,class:"loading-browse"},Lt={__name:"DockerVolumes",setup(At){const S=m([]),K=m(!1),j=m(""),x=m(""),$=m(!1),q=m(!1),oe=m(!1),G=m(!1),ae=m(!1),se=m(!1),ne=m("json"),g=m(null),Q=m([]),W=m(""),Z=m(""),ie=m(null),U=m(1),B=m(20),M=m(""),T=m(""),re=m(null),C=m("/"),P=m([]),ue=m(!1),H=m(""),he=pl("reloadKey"),n=m({name:"",driver:"local",options:{type:"",device:"",size:"",server:"",path:"",nfsvers:"4",o:"rw,noatime,hard,nolock"},labels:[]}),we={name:[{pattern:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/,message:"Invalid volume name",trigger:"blur"}]},_e=J(()=>{const t={};return S.value.forEach(e=>{t[e.Driver]=(t[e.Driver]||0)+1}),t}),Ve=J(()=>S.value.reduce((t,e)=>t+(parseInt(e.UsageData?.Size)||0),0)),Y=J(()=>{let t=S.value;if(j.value){const e=j.value.toLowerCase();t=t.filter(c=>c.Name?.toLowerCase().includes(e)||c.Driver?.toLowerCase().includes(e)||c.Mountpoint?.toLowerCase().includes(e))}return x.value&&(x.value==="other"?t=t.filter(e=>e.Driver!=="local"&&e.Driver!=="nfs"):t=t.filter(e=>e.Driver===x.value)),t}),Ce=J(()=>{const t=(U.value-1)*B.value,e=t+B.value;return Y.value.slice(t,e)}),De=J(()=>{if(!H.value)return P.value;const t=H.value.toLowerCase();return P.value.filter(e=>e.name.toLowerCase().includes(t))}),I=async()=>{try{K.value=!0;const t=await F.get("/services/docker/volumes");t.data.success&&Array.isArray(t.data.volumes)?(S.value=t.data.volumes,p.success(`Loaded ${S.value.length} volumes`)):(S.value=[],p.warning("No volumes found or invalid response format"))}catch(t){p.error("Failed to fetch volumes"),console.error("Volume fetch error:",t),S.value=[]}finally{K.value=!1}},ze=async()=>{try{se.value=!0;const t={name:n.value.name||void 0,driver:n.value.driver};if(n.value.driver==="nfs")t.driver_opts={type:"nfs",device:`:${n.value.options.path}`,o:`addr=${n.value.options.server},nfsvers=${n.value.options.nfsvers}${n.value.options.o?","+n.value.options.o:""}`};else if(n.value.driver==="local"){const e={};n.value.options.type&&(e.type=n.value.options.type),n.value.options.device&&(e.device=n.value.options.device),n.value.options.size&&(e.size=n.value.options.size),Object.keys(e).length>0&&(t.driver_opts=e)}n.value.labels.length>0&&(t.driver_opts=t.driver_opts||{},t.driver_opts.labels=n.value.labels.reduce((e,c)=>(e[c.key]=c.value,e),{})),await F.post("/services/docker/volumes",t),kl.success({title:"Success",message:n.value.name?`Volume "${n.value.name}" created successfully`:"Anonymous volume created successfully",duration:3e3}),$.value=!1,Ae(),await I()}catch(t){p.error(`Failed to create volume: ${t.response?.data?.error||t.message}`),console.error("Volume creation error:",t)}finally{se.value=!1}},Se=async t=>{try{await fe.confirm(`<div>
        <p><strong>Are you sure you want to delete this volume?</strong></p>
        <p>Volume: <code>${t}</code></p>
        <p class="warning-text">⚠️ This will permanently delete all data in the volume!</p>
        <p class="warning-text">⚠️ This action cannot be undone!</p>
      </div>`,"Confirm Deletion",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning",dangerouslyUseHTMLString:!0,beforeClose:async(e,c,k)=>{if(e==="confirm"){c.confirmButtonLoading=!0,c.confirmButtonText="Deleting...";try{await F.delete(`/services/docker/volumes/${t}`),p.success("Volume deleted successfully"),k(),await I()}catch(ce){p.error("Failed to delete volume"),console.error(ce)}finally{c.confirmButtonLoading=!1}}else k()}})}catch(e){e!=="cancel"&&console.error("Delete error:",e)}},ye=async t=>{try{const e=await F.get(`/services/docker/volumes/${t}/inspect`);e.data.success?(g.value=e.data.data?.[0]||e.data.data,W.value=g.value?.Name||t,ne.value="json",q.value=!0):p.error("Failed to inspect volume")}catch(e){p.error("Failed to inspect volume"),console.error("Inspect error:",e)}},Ne=async t=>{try{W.value=t.Name;const e=await F.get(`/services/docker/volumes/${t.Name}/mounts`);e.data.success?(Q.value=e.data.mounts,oe.value=!0):p.error("Failed to get mount information")}catch(e){p.error("Failed to get mount information"),console.error(e)}},Fe=async t=>{if(t.Driver!=="local"){p.warning("File browser only available for local volumes");return}Z.value=t.Name,ie.value=t,C.value="/",P.value=[],G.value=!0,await R()},R=async()=>{if(ie.value)try{ue.value=!0;const t=await F.get(`/services/docker/volumes/${Z.value}/browse`,{params:{path:C.value}});t.data.success?P.value=t.data.files||[]:p.error("Failed to load files")}catch(t){p.error("Failed to load files"),console.error(t)}finally{ue.value=!1}},xe=async()=>{fe.prompt("Enter folder name","Create Folder",{confirmButtonText:"Create",cancelButtonText:"Cancel",inputPattern:/^[a-zA-Z0-9 _.-]+$/,inputErrorMessage:"Invalid folder name"}).then(async({value:t})=>{if(t)try{const e=C.value+(C.value.endsWith("/")?"":"/")+t;await F.post(`/services/docker/volumes/${Z.value}/mkdir`,{path:e}),p.success("Folder created successfully"),await R()}catch(e){p.error("Failed to create folder"),console.error(e)}})},$e=async()=>{try{await fe.confirm("Remove all unused volumes? This will delete all data in unused volumes!","Confirm Prune",{confirmButtonText:"Prune",cancelButtonText:"Cancel",type:"warning"});const t=await F.post("/services/docker/volumes/prune");t.data.success?(p.success(`Unused volumes pruned. Reclaimed space: ${t.data.deletedSpace}`),await I()):p.error("Failed to prune volumes")}catch(t){t!=="cancel"&&(p.error("Failed to prune volumes"),console.error(t))}},Ue=()=>{const t=JSON.stringify(S.value,null,2),e="data:application/json;charset=utf-8,"+encodeURIComponent(t),c=`docker-volumes-${new Date().toISOString().split("T")[0]}.json`,k=document.createElement("a");k.setAttribute("href",e),k.setAttribute("download",c),k.click(),p.success("Volumes exported successfully")},Be=()=>{x.value="",j.value="",U.value=1,p.info("Showing all volumes")},Me=()=>{const t=JSON.stringify(g.value,null,2);navigator.clipboard.writeText(t).then(()=>{p.success("JSON copied to clipboard")}).catch(e=>{console.error("Clipboard error:",e);const c=document.createElement("textarea");c.value=t,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),p.success("JSON copied to clipboard")})},Te=t=>{navigator.clipboard.writeText(t).then(()=>{p.success("Path copied to clipboard")}).catch(e=>{console.error("Clipboard error:",e)})},Ie=()=>{M.value&&T.value&&(n.value.labels.push({key:M.value,value:T.value}),M.value="",T.value="")},Le=t=>{n.value.labels.splice(t,1)},Ae=()=>{n.value={name:"",driver:"local",options:{type:"",device:"",size:"",server:"",path:"",nfsvers:"4",o:"rw,noatime,hard,nolock"},labels:[]},re.value&&re.value.clearValidate()},Oe=t=>{t==="local"?n.value.options={type:"",device:"",size:"",server:"",path:"",nfsvers:"4",o:"rw,noatime,hard,nolock"}:t==="nfs"&&(n.value.options={type:"",device:"",size:"",server:"",path:"",nfsvers:"4",o:"rw,noatime,hard,nolock"})},de=t=>{if(!t)return"N/A";try{return new Date(t).toLocaleString()}catch{return t}},X=t=>{if(!t||t===0)return"0 B";const e=1024,c=["B","KB","MB","GB","TB"],k=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,k)).toFixed(2))+" "+c[k]},je=t=>X(t),Pe=t=>t.UsageData?.Size?X(parseInt(t.UsageData.Size)):"Unknown",Re=t=>{try{return JSON.stringify(t,null,2)}catch{return String(t)}},Ee=t=>{const e={local:"mdi:harddisk",nfs:"mdi:server-network",default:"mdi:database"};return e[t]||e.default},Je=t=>{const e={local:"primary",nfs:"success",default:"info"};return e[t]||e.default},Ke=t=>t.isDirectory?"mdi:folder":t.name.match(/\.(jpg|jpeg|png|gif|svg)$/i)?"mdi:image":t.name.match(/\.(mp4|avi|mov|mkv)$/i)?"mdi:video":t.name.match(/\.(mp3|wav|flac)$/i)?"mdi:music":t.name.match(/\.(pdf)$/i)?"mdi:file-pdf":t.name.match(/\.(txt|md)$/i)?"mdi:file-document":t.name.match(/\.(zip|tar|gz|rar)$/i)?"mdi:zip-box":"mdi:file",qe=({row:t})=>be(t)?"anonymous-row":"",Ge=t=>{ye(t.Name)},Qe=t=>{B.value=t,U.value=1},We=t=>{U.value=t},be=t=>!t.Name||t.Name.startsWith("anonymous"),Ze=t=>t.UsageData?.RefCount||0,He=t=>t?t.length<=50?t:"..."+t.substring(t.length-47):"",Ye=()=>{R()},Xe=()=>{p.info("File upload functionality coming soon")},el=(t,e)=>{const k="/"+C.value.split("/").filter(Boolean).slice(0,e+1).join("/");C.value=k,R()},ll=t=>{t.isDirectory&&(C.value=C.value+(C.value.endsWith("/")?"":"/")+t.name,R())},tl=(t,e)=>{console.log("Context menu for:",e.name)},ol=t=>{p.info(`Inspect container ${t}`)};return fl(he,()=>{I()}),_l(()=>{I()}),(t,e)=>{const c=y("el-card"),k=y("el-col"),ce=y("el-row"),D=y("el-input"),w=y("el-option"),ee=y("el-select"),_=y("el-button"),al=y("el-button-group"),le=y("el-tag"),h=y("el-table-column"),E=y("el-tooltip"),sl=y("el-badge"),ve=y("el-table"),nl=y("el-pagination"),z=y("el-form-item"),il=y("el-form"),te=y("el-dialog"),me=y("el-tab-pane"),rl=y("el-tabs"),pe=y("el-skeleton"),ul=y("el-breadcrumb-item"),dl=y("el-breadcrumb"),cl=yl("loading");return i(),v("div",hl,[l(ce,{gutter:20,class:"stats-row"},{default:a(()=>[l(k,{span:6},{default:a(()=>[l(c,{shadow:"hover",class:"stat-card"},{default:a(()=>[s("div",wl,[l(r(u),{icon:"mdi:database",class:"stat-icon volume-icon"}),s("div",Vl,[s("div",Cl,d(S.value.length),1),e[27]||(e[27]=s("div",{class:"stat-label"},"Total Volumes",-1))])])]),_:1})]),_:1}),l(k,{span:6},{default:a(()=>[l(c,{shadow:"hover",class:"stat-card"},{default:a(()=>[s("div",Dl,[l(r(u),{icon:"mdi:harddisk",class:"stat-icon local-icon"}),s("div",zl,[s("div",Sl,d(_e.value.local||0),1),e[28]||(e[28]=s("div",{class:"stat-label"},"Local Volumes",-1))])])]),_:1})]),_:1}),l(k,{span:6},{default:a(()=>[l(c,{shadow:"hover",class:"stat-card"},{default:a(()=>[s("div",Nl,[l(r(u),{icon:"mdi:server-network",class:"stat-icon nfs-icon"}),s("div",Fl,[s("div",xl,d(_e.value.nfs||0),1),e[29]||(e[29]=s("div",{class:"stat-label"},"NFS Volumes",-1))])])]),_:1})]),_:1}),l(k,{span:6},{default:a(()=>[l(c,{shadow:"hover",class:"stat-card"},{default:a(()=>[s("div",$l,[l(r(u),{icon:"mdi:chart-pie",class:"stat-icon size-icon"}),s("div",Ul,[s("div",Bl,d(X(Ve.value)),1),e[30]||(e[30]=s("div",{class:"stat-label"},"Total Size",-1))])])]),_:1})]),_:1})]),_:1}),l(c,{shadow:"never",class:"search-card"},{default:a(()=>[s("div",Ml,[s("div",Tl,[l(D,{modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=o=>j.value=o),placeholder:"Search volumes by name or driver...",clearable:"",class:"search-input",size:"large"},{prefix:a(()=>[l(r(u),{icon:"mdi:magnify",class:"search-icon"})]),_:1},8,["modelValue"]),l(ee,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o),placeholder:"Filter by driver",clearable:"",class:"filter-select",size:"large"},{default:a(()=>[l(w,{label:"All Drivers",value:""}),l(w,{label:"Local",value:"local"}),l(w,{label:"NFS",value:"nfs"}),l(w,{label:"Other",value:"other"})]),_:1},8,["modelValue"])]),s("div",Il,[l(_,{type:"primary",onClick:I,loading:K.value,class:"action-btn"},{default:a(()=>[l(r(u),{icon:"mdi:refresh",class:"icon"}),e[31]||(e[31]=b(" Refresh "))]),_:1,__:[31]},8,["loading"]),l(_,{type:"success",onClick:e[2]||(e[2]=o=>$.value=!0),class:"action-btn"},{default:a(()=>[l(r(u),{icon:"mdi:plus",class:"icon"}),e[32]||(e[32]=b(" Create Volume "))]),_:1,__:[32]}),l(_,{type:"info",onClick:e[3]||(e[3]=o=>ae.value=!ae.value),class:"action-btn"},{default:a(()=>[l(r(u),{icon:"mdi:dots-vertical",class:"icon"}),e[33]||(e[33]=b(" Quick Actions "))]),_:1,__:[33]})])]),l(r(bl),null,{default:a(()=>[ge(s("div",Ll,[l(al,{class:"quick-buttons"},{default:a(()=>[l(_,{onClick:$e,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:delete-sweep"}),e[34]||(e[34]=b(" Prune Unused "))]),_:1,__:[34]}),l(_,{onClick:Ue,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:export"}),e[35]||(e[35]=b(" Export JSON "))]),_:1,__:[35]}),l(_,{onClick:Be,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:eye"}),e[36]||(e[36]=b(" Show All Details "))]),_:1,__:[36]})]),_:1})],512),[[gl,ae.value]])]),_:1})]),_:1}),l(c,{shadow:"never",class:"table-card"},{default:a(()=>[ge((i(),L(ve,{data:Ce.value,style:{width:"100%"},stripe:"",border:"","default-sort":{prop:"Name",order:"ascending"},"row-class-name":qe,onRowClick:Ge},{default:a(()=>[l(h,{prop:"Name",label:"Volume Name",sortable:"",width:"200"},{default:a(({row:o})=>[s("div",Al,[l(r(u),{icon:Ee(o.Driver),class:ke(["volume-type-icon",o.Driver])},null,8,["icon","class"]),s("span",Ol,d(o.Name),1),be(o)?(i(),L(le,{key:0,size:"small",type:"info",class:"tag"},{default:a(()=>e[37]||(e[37]=[b(" Anonymous ")])),_:1,__:[37]})):V("",!0)])]),_:1}),l(h,{prop:"Driver",label:"Driver",width:"120",sortable:""},{default:a(({row:o})=>[l(le,{type:Je(o.Driver),effect:"plain"},{default:a(()=>[b(d(o.Driver),1)]),_:2},1032,["type"])]),_:1}),l(h,{prop:"Mountpoint",label:"Mount Point",sortable:""},{default:a(({row:o})=>[s("div",jl,[s("code",Pl,d(He(o.Mountpoint)),1),l(E,{content:"Copy path",placement:"top"},{default:a(()=>[l(_,{size:"small",text:"",onClick:A(f=>Te(o.Mountpoint),["stop"])},{default:a(()=>[l(r(u),{icon:"mdi:content-copy"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:1}),l(h,{label:"Size",width:"120",align:"right"},{default:a(({row:o})=>[b(d(Pe(o)),1)]),_:1}),l(h,{label:"Created",width:"150"},{default:a(({row:o})=>[b(d(de(o.CreatedAt)),1)]),_:1}),l(h,{label:"Containers",width:"100",align:"center"},{default:a(({row:o})=>[l(sl,{value:Ze(o),max:99,class:"container-badge"},{default:a(()=>[l(r(u),{icon:"mdi:docker"})]),_:2},1032,["value"])]),_:1}),l(h,{label:"Actions",width:"200",fixed:"right"},{default:a(({row:o})=>[s("div",Rl,[l(E,{content:"Inspect",placement:"top"},{default:a(()=>[l(_,{size:"small",type:"primary",onClick:A(f=>ye(o.Name),["stop"]),circle:""},{default:a(()=>[l(r(u),{icon:"mdi:information"})]),_:2},1032,["onClick"])]),_:2},1024),o.Driver==="local"?(i(),L(E,{key:0,content:"Browse Files",placement:"top"},{default:a(()=>[l(_,{size:"small",type:"warning",onClick:A(f=>Fe(o),["stop"]),circle:""},{default:a(()=>[l(r(u),{icon:"mdi:folder-open"})]),_:2},1032,["onClick"])]),_:2},1024)):V("",!0),l(E,{content:"Mount Info",placement:"top"},{default:a(()=>[l(_,{size:"small",type:"info",onClick:A(f=>Ne(o),["stop"]),circle:""},{default:a(()=>[l(r(u),{icon:"mdi:link"})]),_:2},1032,["onClick"])]),_:2},1024),l(E,{content:"Delete",placement:"top"},{default:a(()=>[l(_,{size:"small",type:"danger",onClick:A(f=>Se(o.Name),["stop"]),circle:""},{default:a(()=>[l(r(u),{icon:"mdi:delete"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:1})]),_:1},8,["data"])),[[cl,K.value]]),Y.value.length>B.value?(i(),v("div",El,[l(nl,{"current-page":U.value,"onUpdate:currentPage":e[4]||(e[4]=o=>U.value=o),"page-size":B.value,"onUpdate:pageSize":e[5]||(e[5]=o=>B.value=o),"page-sizes":[10,20,50,100],total:Y.value.length,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Qe,onCurrentChange:We},null,8,["current-page","page-size","total"])])):V("",!0),Y.value.length===0?(i(),v("div",Jl,[l(r(u),{icon:"mdi:database-remove",class:"no-data-icon"}),e[39]||(e[39]=s("p",null,"No volumes found",-1)),l(_,{type:"primary",onClick:e[6]||(e[6]=o=>$.value=!0)},{default:a(()=>e[38]||(e[38]=[b(" Create Your First Volume ")])),_:1,__:[38]})])):V("",!0)]),_:1}),l(te,{modelValue:$.value,"onUpdate:modelValue":e[19]||(e[19]=o=>$.value=o),title:"Create New Volume",width:"600px","close-on-click-modal":!1},{footer:a(()=>[l(_,{onClick:e[18]||(e[18]=o=>$.value=!1)},{default:a(()=>e[46]||(e[46]=[b("Cancel")])),_:1,__:[46]}),l(_,{type:"primary",onClick:ze,loading:se.value},{default:a(()=>e[47]||(e[47]=[b(" Create Volume ")])),_:1,__:[47]},8,["loading"])]),default:a(()=>[l(il,{model:n.value,"label-width":"140px",rules:we,ref_key:"volumeFormRef",ref:re},{default:a(()=>[l(z,{label:"Volume Name",prop:"name"},{default:a(()=>[l(D,{modelValue:n.value.name,"onUpdate:modelValue":e[7]||(e[7]=o=>n.value.name=o),placeholder:"e.g., my-app-data",clearable:""},null,8,["modelValue"]),e[40]||(e[40]=s("div",{class:"form-tip"},"Leave empty for anonymous volume",-1))]),_:1,__:[40]}),l(z,{label:"Driver",prop:"driver"},{default:a(()=>[l(ee,{modelValue:n.value.driver,"onUpdate:modelValue":e[8]||(e[8]=o=>n.value.driver=o),style:{width:"100%"},onChange:Oe},{default:a(()=>[l(w,{label:"local - Default local storage",value:"local"},{default:a(()=>[s("div",Kl,[l(r(u),{icon:"mdi:harddisk"}),e[41]||(e[41]=s("span",null,"local - Default local storage",-1))])]),_:1}),l(w,{label:"nfs - Network File System",value:"nfs"},{default:a(()=>[s("div",ql,[l(r(u),{icon:"mdi:server-network"}),e[42]||(e[42]=s("span",null,"nfs - Network File System",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),n.value.driver==="local"?(i(),v(N,{key:0},[l(z,{label:"Storage Driver"},{default:a(()=>[l(ee,{modelValue:n.value.options.type,"onUpdate:modelValue":e[9]||(e[9]=o=>n.value.options.type=o),placeholder:"Select storage driver"},{default:a(()=>[l(w,{label:"Default",value:""}),l(w,{label:"btrfs",value:"btrfs"}),l(w,{label:"zfs",value:"zfs"}),l(w,{label:"overlay2",value:"overlay2"})]),_:1},8,["modelValue"])]),_:1}),l(z,{label:"Device"},{default:a(()=>[l(D,{modelValue:n.value.options.device,"onUpdate:modelValue":e[10]||(e[10]=o=>n.value.options.device=o),placeholder:"e.g., /dev/sdb1"},null,8,["modelValue"]),e[43]||(e[43]=s("div",{class:"form-tip"},"Optional - Block device for volume",-1))]),_:1,__:[43]}),l(z,{label:"Size Limit"},{default:a(()=>[l(D,{modelValue:n.value.options.size,"onUpdate:modelValue":e[11]||(e[11]=o=>n.value.options.size=o),placeholder:"e.g., 10G"},null,8,["modelValue"]),e[44]||(e[44]=s("div",{class:"form-tip"},"Optional - Size limit (e.g., 10G, 500M)",-1))]),_:1,__:[44]})],64)):V("",!0),n.value.driver==="nfs"?(i(),v(N,{key:1},[l(z,{label:"NFS Server",prop:"options.server"},{default:a(()=>[l(D,{modelValue:n.value.options.server,"onUpdate:modelValue":e[12]||(e[12]=o=>n.value.options.server=o),placeholder:"e.g., 192.168.1.100 or nfs-server.local"},null,8,["modelValue"])]),_:1}),l(z,{label:"NFS Path",prop:"options.path"},{default:a(()=>[l(D,{modelValue:n.value.options.path,"onUpdate:modelValue":e[13]||(e[13]=o=>n.value.options.path=o),placeholder:"e.g., /exports/data"},null,8,["modelValue"])]),_:1}),l(z,{label:"NFS Version"},{default:a(()=>[l(ee,{modelValue:n.value.options.nfsvers,"onUpdate:modelValue":e[14]||(e[14]=o=>n.value.options.nfsvers=o),placeholder:"Select NFS version"},{default:a(()=>[l(w,{label:"NFSv3",value:"3"}),l(w,{label:"NFSv4",value:"4"}),l(w,{label:"NFSv4.1",value:"4.1"}),l(w,{label:"NFSv4.2",value:"4.2"})]),_:1},8,["modelValue"])]),_:1}),l(z,{label:"Mount Options"},{default:a(()=>[l(D,{modelValue:n.value.options.o,"onUpdate:modelValue":e[15]||(e[15]=o=>n.value.options.o=o),placeholder:"e.g., rw,noatime,hard,nolock"},null,8,["modelValue"]),e[45]||(e[45]=s("div",{class:"form-tip"},"Additional mount options separated by commas",-1))]),_:1,__:[45]})],64)):V("",!0),l(z,{label:"Labels"},{default:a(()=>[s("div",Gl,[l(D,{modelValue:M.value,"onUpdate:modelValue":e[16]||(e[16]=o=>M.value=o),placeholder:"Key",style:{width:"45%","margin-right":"5%"}},null,8,["modelValue"]),l(D,{modelValue:T.value,"onUpdate:modelValue":e[17]||(e[17]=o=>T.value=o),placeholder:"Value",style:{width:"45%"}},null,8,["modelValue"]),l(_,{onClick:Ie,type:"primary",circle:"",size:"small",disabled:!M.value||!T.value},{default:a(()=>[l(r(u),{icon:"mdi:plus"})]),_:1},8,["disabled"])]),n.value.labels&&n.value.labels.length>0?(i(),v("div",Ql,[(i(!0),v(N,null,O(n.value.labels,(o,f)=>(i(),L(le,{key:f,closable:"",onClose:vl=>Le(f),class:"label-tag"},{default:a(()=>[b(d(o.key)+": "+d(o.value),1)]),_:2},1032,["onClose"]))),128))])):V("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(te,{modelValue:q.value,"onUpdate:modelValue":e[22]||(e[22]=o=>q.value=o),title:`Volume: ${W.value}`,width:"70%",class:"inspect-dialog"},{footer:a(()=>[l(_,{onClick:Me,type:"primary"},{default:a(()=>[l(r(u),{icon:"mdi:content-copy"}),e[59]||(e[59]=b(" Copy JSON "))]),_:1,__:[59]}),l(_,{onClick:e[21]||(e[21]=o=>q.value=!1)},{default:a(()=>e[60]||(e[60]=[b("Close")])),_:1,__:[60]})]),default:a(()=>[g.value?(i(),v("div",Wl,[l(rl,{modelValue:ne.value,"onUpdate:modelValue":e[20]||(e[20]=o=>ne.value=o)},{default:a(()=>[l(me,{label:"JSON View",name:"json"},{default:a(()=>[s("pre",Zl,d(Re(g.value)),1)]),_:1}),l(me,{label:"Tree View",name:"tree"},{default:a(()=>[s("div",Hl,[s("div",Yl,[e[52]||(e[52]=s("h4",null,"Volume Information",-1)),s("div",Xl,[e[48]||(e[48]=s("span",{class:"tree-key"},"Name:",-1)),s("span",et,d(g.value.Name),1)]),s("div",lt,[e[49]||(e[49]=s("span",{class:"tree-key"},"Driver:",-1)),s("span",tt,d(g.value.Driver),1)]),s("div",ot,[e[50]||(e[50]=s("span",{class:"tree-key"},"Mountpoint:",-1)),s("span",at,d(g.value.Mountpoint),1)]),s("div",st,[e[51]||(e[51]=s("span",{class:"tree-key"},"Created:",-1)),s("span",nt,d(de(g.value.CreatedAt)),1)])]),g.value.Options&&Object.keys(g.value.Options).length>0?(i(),v("div",it,[e[53]||(e[53]=s("h4",null,"Options",-1)),(i(!0),v(N,null,O(g.value.Options,(o,f)=>(i(),v("div",{class:"tree-item",key:f},[s("span",rt,d(f)+":",1),s("span",ut,d(o),1)]))),128))])):V("",!0),g.value.Labels&&Object.keys(g.value.Labels).length>0?(i(),v("div",dt,[e[54]||(e[54]=s("h4",null,"Labels",-1)),(i(!0),v(N,null,O(g.value.Labels,(o,f)=>(i(),v("div",{class:"tree-item",key:f},[s("span",ct,d(f)+":",1),s("span",vt,d(o),1)]))),128))])):V("",!0),g.value.UsageData?(i(),v("div",mt,[e[57]||(e[57]=s("h4",null,"Usage Data",-1)),s("div",pt,[e[55]||(e[55]=s("span",{class:"tree-key"},"Size:",-1)),s("span",ft,d(X(g.value.UsageData.Size)),1)]),s("div",_t,[e[56]||(e[56]=s("span",{class:"tree-key"},"Ref Count:",-1)),s("span",yt,d(g.value.UsageData.RefCount),1)])])):V("",!0),g.value.Status?(i(),v("div",bt,[e[58]||(e[58]=s("h4",null,"Status",-1)),(i(!0),v(N,null,O(g.value.Status,(o,f)=>(i(),v("div",{class:"tree-item",key:f},[s("span",gt,d(f)+":",1),s("span",kt,d(o),1)]))),128))])):V("",!0)])]),_:1}),Q.value?(i(),L(me,{key:0,label:"Mount Info",name:"mount"},{default:a(()=>[l(ve,{data:Q.value,size:"small"},{default:a(()=>[l(h,{prop:"container",label:"Container"}),l(h,{prop:"source",label:"Source"}),l(h,{prop:"destination",label:"Destination"}),l(h,{prop:"mode",label:"Mode"})]),_:1},8,["data"])]),_:1})):V("",!0)]),_:1},8,["modelValue"])])):(i(),v("div",ht,[l(pe,{rows:5,animated:""})]))]),_:1},8,["modelValue","title"]),l(te,{modelValue:oe.value,"onUpdate:modelValue":e[23]||(e[23]=o=>oe.value=o),title:`Mount Info: ${W.value}`,width:"800px"},{default:a(()=>[l(ve,{data:Q.value,stripe:"",border:""},{default:a(()=>[l(h,{prop:"containerName",label:"Container",width:"200"},{default:a(({row:o})=>[s("div",wt,[l(r(u),{icon:"madi:docker",class:"container-icon"}),s("span",null,d(o.containerName),1)])]),_:1}),l(h,{prop:"source",label:"Source"}),l(h,{prop:"destination",label:"Destination"}),l(h,{prop:"mode",label:"Mode",width:"100"},{default:a(({row:o})=>[l(le,{type:o.mode==="rw"?"success":"info"},{default:a(()=>[b(d(o.mode),1)]),_:2},1032,["type"])]),_:1}),l(h,{label:"Actions",width:"100"},{default:a(({row:o})=>[l(_,{size:"small",onClick:f=>ol(o.containerId),type:"primary"},{default:a(()=>[l(r(u),{icon:"mdi:information"})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue","title"]),l(te,{modelValue:G.value,"onUpdate:modelValue":e[26]||(e[26]=o=>G.value=o),title:`Browse: ${Z.value}`,width:"80%",height:"70vh",class:"browse-dialog"},{footer:a(()=>[l(_,{onClick:e[25]||(e[25]=o=>G.value=!1)},{default:a(()=>e[65]||(e[65]=[b("Close")])),_:1,__:[65]})]),default:a(()=>[ie.value?(i(),v("div",Vt,[s("div",Ct,[l(_,{onClick:Ye,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:refresh"}),e[61]||(e[61]=b(" Refresh "))]),_:1,__:[61]}),l(_,{onClick:xe,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:folder-plus"}),e[62]||(e[62]=b(" New Folder "))]),_:1,__:[62]}),l(_,{onClick:Xe,size:"small"},{default:a(()=>[l(r(u),{icon:"mdi:upload"}),e[63]||(e[63]=b(" Upload File "))]),_:1,__:[63]}),l(D,{modelValue:H.value,"onUpdate:modelValue":e[24]||(e[24]=o=>H.value=o),placeholder:"Search files...",size:"small",style:{width:"200px"}},{prefix:a(()=>[l(r(u),{icon:"mdi:magnify"})]),_:1},8,["modelValue"])]),s("div",Dt,[l(dl,{separator:"/"},{default:a(()=>[(i(!0),v(N,null,O(C.value.split("/").filter(Boolean),(o,f)=>(i(),L(ul,{key:f,onClick:vl=>el(o,f)},{default:a(()=>[b(d(o),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),s("div",zt,[ue.value?(i(),v("div",St,[l(pe,{rows:3,animated:""})])):P.value.length===0?(i(),v("div",Nt,[l(r(u),{icon:"mdi:folder-open-outline",class:"empty-icon"}),e[64]||(e[64]=s("p",null,"Folder is empty",-1))])):(i(),v("div",Ft,[(i(!0),v(N,null,O(De.value,o=>(i(),v("div",{key:o.name,class:ke(["file-item",{"is-directory":o.isDirectory}]),onDblclick:f=>ll(o),onContextmenu:A(f=>tl(f,o),["prevent"])},[s("div",$t,[l(r(u),{icon:Ke(o),class:"file-type-icon"},null,8,["icon"])]),s("div",Ut,[s("div",Bt,d(o.name),1),s("div",Mt,d(je(o.size)),1),s("div",Tt,d(de(o.modified)),1)])],42,xt))),128))]))])])):(i(),v("div",It,[l(pe,{rows:5,animated:""})]))]),_:1},8,["modelValue","title"])])}}},jt=ml(Lt,[["__scopeId","data-v-01083ae2"]]);export{jt as default};
