import{_ as Be,r as u,c as ue,o as Ie,W as me,b as h,A as Me,d as w,e as y,f as s,g as t,m as v,h as pe,i as U,w as l,k as r,I as c,t as _,B as We,n as ve,p as Z,F as qe,l as Oe,v as V,x as f,C as je,z as Ge,ag as Qe}from"./index-naspanel.js";var te={exports:{}},fe;function Xe(){return fe||(fe=1,function(ae,x){(function(S,k){ae.exports=k()})(self,()=>(()=>{var S={};return(()=>{var k=S;Object.defineProperty(k,"__esModule",{value:!0}),k.FitAddon=void 0,k.FitAddon=class{activate(m){this._terminal=m}dispose(){}fit(){const m=this.proposeDimensions();if(!m||!this._terminal||isNaN(m.cols)||isNaN(m.rows))return;const C=this._terminal._core;this._terminal.rows===m.rows&&this._terminal.cols===m.cols||(C._renderService.clear(),this._terminal.resize(m.cols,m.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const m=this._terminal._core,C=m._renderService.dimensions;if(C.css.cell.width===0||C.css.cell.height===0)return;const T=this._terminal.options.scrollback===0?0:m.viewport.scrollBarWidth,F=window.getComputedStyle(this._terminal.element.parentElement),I=parseInt(F.getPropertyValue("height")),b=Math.max(0,parseInt(F.getPropertyValue("width"))),$=window.getComputedStyle(this._terminal.element),i=I-(parseInt($.getPropertyValue("padding-top"))+parseInt($.getPropertyValue("padding-bottom"))),A=b-(parseInt($.getPropertyValue("padding-right"))+parseInt($.getPropertyValue("padding-left")))-T;return{cols:Math.max(2,Math.floor(A/C.css.cell.width)),rows:Math.max(1,Math.floor(i/C.css.cell.height))}}}})(),S})())}(te)),te.exports}var Ye=Xe();const Ze={class:"docker-compose"},Je={class:"clean-header"},He={class:"header-left"},Ke={class:"header-right"},et={class:"header-actions"},tt={class:"table-wrapper"},at={key:0,class:"empty-state"},lt={key:1,class:"table-container"},ot={class:"file-cell"},st={class:"file-info"},nt={class:"file-name"},it={class:"file-date"},rt={class:"services-cell"},ct={class:"services-text"},dt={class:"actions-container"},ut={class:"action-buttons"},mt={key:2,class:"table-footer"},pt={class:"footer-info"},vt={class:"footer-text"},ft={class:"footer-actions"},_t={class:"create-dialog-content"},gt={class:"form-row"},yt={class:"editor-header"},ht={class:"editor-actions"},Ct={class:"dialog-footer"},wt={class:"templates-header"},kt={class:"filters-container"},bt={class:"templates-grid"},xt={class:"template-icon"},St={class:"template-content"},Vt={class:"template-name"},Nt={class:"template-description"},zt={class:"template-meta"},Dt={key:0,class:"template-ports"},Tt={class:"template-actions"},Ft={key:0,class:"no-templates"},$t={class:"template-preview-container"},At={key:0,class:"template-meta"},Et={key:0,class:"meta-item"},Rt={key:1,class:"meta-item"},Pt={class:"template-code"},Ut={class:"template-preview"},Lt={class:"dialog-footer"},Bt={class:"terminal-container"},It={class:"dialog-footer"},Mt={__name:"DockerCompose",setup(ae){const x=u([]),S=u(!1),k=u(""),m=u(!1),C=u(!1),T=u(!1),F=u(!1),I=u(!1);u(!0);const b=u({}),$=u(""),i=u({containerName:"",filename:"",content:"",description:"",autoStart:!0}),A=u([]),le=u(""),N=u(null),j=u(""),L=u(!1),J=u(null),g=u(null),E=u(null),B=u(null),G=u({}),Q=u({}),H=u({}),oe=[{name:"Nginx Web Server",description:"Basic Nginx web server with port 80 exposed",content:`version: '3'
services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html
    restart: unless-stopped`,metadata:{ports:[80],icon:"mdi:nginx"}},{name:"PostgreSQL Database",description:"PostgreSQL database with persistent storage",content:`version: '3'
services:
  postgres:
    image: postgres:13
    environment:
      POSTGRES_PASSWORD: example_password
      POSTGRES_USER: example_user
      POSTGRES_DB: example_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
volumes:
  postgres_data: {}`,metadata:{ports:[5432],icon:"mdi:database"}},{name:"Redis",description:"Redis in-memory data store",content:`version: '3'
services:
  redis:
    image: redis:alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
volumes:
  redis_data: {}`,metadata:{ports:[6379],icon:"mdi:database"}}],M=ue(()=>{if(!k.value)return x.value;const a=k.value.toLowerCase();return x.value.filter(e=>e.name.toLowerCase().includes(a))}),se=ue(()=>{let a=A.value;if(j.value){const e=j.value.toLowerCase();a=a.filter(n=>n.name.toLowerCase().includes(e)||n.description.toLowerCase().includes(e))}return a}),_e=a=>a.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,""),ge=()=>{i.value.containerName?i.value.filename=`${_e(i.value.containerName)}`:i.value.filename=""},ye=a=>{if(!a||a==="N/A")return"N/A";try{return new Date(a).toLocaleDateString()}catch{return a}},z=a=>{const e=b.value[a.name]||"not_found",n={running:{type:"success",text:"Running",icon:"mdi:check-circle",class:"status-running"},stopped:{type:"danger",text:"Stopped",icon:"mdi:stop-circle",class:"status-stopped"},starting:{type:"warning",text:"Starting",icon:"mdi:loading",class:"status-starting"},not_found:{type:"info",text:"Not running",icon:"mdi:help-circle",class:"status-not-found"},error:{type:"danger",text:"Error",icon:"mdi:alert-circle",class:"status-error"}};return n[e]||n.not_found},K=a=>a.replace(".yml","").replace(".yaml","").replace("docker-compose-","").split("-")[0],W=async()=>{try{S.value=!0;const a=await V.get("/services/docker/compose");a.data.success&&Array.isArray(a.data.files)&&(x.value=a.data.files.map(e=>({name:e,modified:"N/A",servicesCount:"?"})),await ne())}catch(a){f.error("Failed to fetch compose files"),console.error(a)}finally{S.value=!1}},ee=async a=>{try{const e=a.replace(".yml","").replace(".yaml","").replace("docker-compose-","").replace(/-1$/,""),n=await V.get(`/services/docker/container/status/${e}`);return n.data.status==="running"?"running":n.data.containerName?.includes(e)?n.data.status==="running"?"running":"stopped":"not_found"}catch(e){return console.error("Error checking container status:",e),"error"}},ne=async()=>{for(const a of x.value){const e=K(a.name);b.value[a.name]=await ee(e)}},he=async()=>{try{if(!i.value.filename){f.warning("Please specify a filename");return}if(!i.value.content){f.warning("Please provide compose file content");return}const a=i.value.filename.endsWith(".yml")?i.value.filename:`${i.value.filename}.yml`;if(I.value=!0,L.value?(await V.put(`/services/docker/compose/${a}`,{content:i.value.content}),f.success("Compose file updated successfully")):(await V.post("/services/docker/compose_add",{filename:a,content:i.value.content}),f.success("Compose file created successfully")),i.value.autoStart&&!L.value){const e=a.replace(".yml","").replace(".yaml","");b.value[e]="starting",setTimeout(()=>{re(a)},1e3)}m.value=!1,ie(),await W()}catch(a){const e=a.response?.data?.message||a.response?.data?.error||"Failed to save compose file";f.error(e),console.error("Error details:",a)}finally{I.value=!1}},ie=()=>{i.value={containerName:"",filename:"",content:"",description:"",autoStart:!0},L.value=!1},Ce=async a=>{try{const e=await V.get(`/services/docker/compose/${a}`);i.value={containerName:a.replace(".yml","").replace(".yaml",""),filename:a.replace(".yml","").replace(".yaml",""),content:e.data.content,description:"",autoStart:!1},L.value=!0,m.value=!0}catch(e){f.error("Failed to load compose file"),console.error(e)}},we=async a=>{try{await je.confirm("This will permanently delete the compose file. Continue?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}),H.value[a]=!0,await V.delete(`/services/docker/compose/${a}`),f.success("Compose file deleted successfully"),await W()}catch(e){e!=="cancel"&&(f.error("Failed to delete compose file"),console.error(e))}finally{H.value[a]=!1}},ke=async a=>{b.value[a.name]==="running"?await be(a):re(a.name)},re=async a=>{try{G.value[a]=!0,$.value=a,F.value=!0,await Ge(),Se(),g.value.writeln("Starting deployment..."),g.value.writeln(`========================\r
`);const n=`${window.location.protocol==="https:"?"https:":"http:"}//${window.location.hostname}:1112`;B.value=new EventSource(`${n}/services/docker/composer/deploy-stream?file=${a}`),B.value.onmessage=p=>{try{const d=JSON.parse(p.data);d.message&&d.message.split(`\r
`).forEach(P=>{P.trim().length>0&&g.value.writeln(P)})}catch(d){console.error("Error parsing event data:",d)}},B.value.onerror=p=>{g.value.writeln(`\r
Error in deployment stream`),X()};const R=a.replace(".yml","").replace(".yaml","");setTimeout(async()=>{const p=await ee(R);b.value[R]=p,G.value[a]=!1},5e3)}catch(e){console.error("Deployment error:",e),G.value[a]=!1}},be=async a=>{try{const e=K(a.name);await V.post(`/services/docker/container/${e}/stop`),f.success("Compose stopped successfully"),b.value[a.name]="stopped"}catch(e){f.error("Failed to stop compose"),console.error(e)}},xe=async a=>{try{Q.value[a.name]=!0;const e=K(a.name);await V.post(`/services/docker/container/${e}/restart`),f.success("Compose restarted successfully"),b.value[a.name]="starting",setTimeout(async()=>{const n=await ee(e);b.value[a.name]=n,Q.value[a.name]=!1},3e3)}catch(e){f.error("Failed to restart compose"),console.error(e),Q.value[a.name]=!1}},Se=()=>{if(g.value)try{g.value.dispose()}catch(a){console.warn("Error disposing terminal:",a)}g.value=new Qe.Terminal({cursorBlink:!1,fontFamily:"monospace",fontSize:14,convertEol:!0,theme:{background:"#1e1e1e",foreground:"#f0f0f0"},rendererType:"canvas",disableStdin:!0,scrollback:1e3}),E.value=new Ye.FitAddon,g.value.loadAddon(E.value),J.value&&(g.value.open(J.value),E.value.fit())},X=()=>{if(B.value&&(B.value.close(),B.value=null),g.value)try{E.value&&(g.value.loadAddon(E.value),E.value.dispose(),E.value=null),g.value.dispose(),g.value=null}catch(a){console.warn("Error cleaning up terminal:",a)}},ce=()=>{X(),F.value=!1},Ve=()=>{ce()},Ne=async()=>{try{const a=await V.get("https://raw.githubusercontent.com/gekomod/docker-templates/main/contents/templates.json",{headers:{Accept:"application/vnd.github.v3.raw"},timeout:5e3});a.data&&Array.isArray(a.data.templates)?A.value=a.data.templates:A.value=oe}catch(a){console.log("Using default templates:",a.message),A.value=oe}},ze=async()=>{C.value=!0,A.value.length===0&&await Ne()},De=a=>{N.value=a,le.value=a.content,T.value=!0},de=a=>{i.value={containerName:a.name.toLowerCase().replace(/ /g,"-"),filename:a.name.toLowerCase().replace(/ /g,"-"),content:a.content,description:a.description,autoStart:!0},C.value=!1,m.value=!0},Te=()=>{de(N.value),T.value=!1},Fe=()=>{i.value.content=`version: '3.8'

services:
  app:
    image: nginx:alpine
    container_name: my-app
    ports:
      - "8080:80"
    restart: unless-stopped
    environment:
      - NGINX_ENV=production`},$e=()=>{try{const a=i.value.content.split(`
`);let e=0;const n=a.map(R=>{const p=R.trim();if(p.endsWith(":")){const d="  ".repeat(e)+p;return e++,d}else return p===""?(e=Math.max(0,e-1),""):"  ".repeat(e)+p}).join(`
`);i.value.content=n,f.success("YAML formatted")}catch{f.error("Formatting failed")}},Ae=a=>{};return Ie(()=>{W();const a=setInterval(async()=>{x.value.length>0&&await ne()},3e4);me(()=>{clearInterval(a),X()})}),me(()=>{X()}),(a,e)=>{const n=h("el-icon"),R=h("el-tag"),p=h("el-input"),d=h("el-button"),D=h("el-tooltip"),P=h("el-table-column"),Ee=h("el-table"),Re=h("el-card"),q=h("el-form-item"),Pe=h("el-checkbox"),Ue=h("el-form"),Y=h("el-dialog"),Le=Me("loading");return y(),w("div",Ze,[s("div",Je,[s("div",He,[s("h2",null,[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:docker"})]),_:1}),e[16]||(e[16]=v(" Docker Compose ")),x.value.length>0?(y(),pe(R,{key:0,type:"info",size:"small",class:"ml-2"},{default:l(()=>[v(_(x.value.length)+" files ",1)]),_:1})):U("",!0)])]),s("div",Ke,[t(p,{modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=o=>k.value=o),placeholder:"Search compose files...",clearable:"",size:"small",style:{width:"300px"},onClear:W},{prefix:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:magnify"})]),_:1})]),_:1},8,["modelValue"]),s("div",et,[t(D,{content:"Refresh",placement:"top"},{default:l(()=>[t(d,{type:"info",onClick:W,size:"small",loading:S.value,class:"action-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:refresh"})]),_:1})]),_:1},8,["loading"])]),_:1}),t(D,{content:"New Compose File",placement:"top"},{default:l(()=>[t(d,{type:"primary",onClick:e[1]||(e[1]=o=>m.value=!0),size:"small",class:"action-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:plus"})]),_:1})]),_:1})]),_:1}),t(D,{content:"Templates",placement:"top"},{default:l(()=>[t(d,{type:"success",onClick:ze,size:"small",class:"action-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:file-download"})]),_:1})]),_:1})]),_:1})])])]),s("div",tt,[t(Re,{shadow:"never",class:ve(["clean-table-card",{empty:M.value.length===0}])},{default:l(()=>[M.value.length===0&&!S.value?(y(),w("div",at,[t(n,{size:"64",class:"empty-icon"},{default:l(()=>[t(r(c),{icon:"mdi:file-document-outline"})]),_:1}),e[18]||(e[18]=s("h3",null,"No Docker Compose files found",-1)),e[19]||(e[19]=s("p",null,"Create your first compose file to get started",-1)),t(d,{type:"primary",onClick:e[2]||(e[2]=o=>m.value=!0),size:"small",class:"create-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:plus"})]),_:1}),e[17]||(e[17]=v(" Create your first compose "))]),_:1,__:[17]})])):(y(),w("div",lt,[We((y(),pe(Ee,{data:M.value,class:"clean-table",stripe:"",onRowClick:Ae},{default:l(()=>[t(P,{prop:"name",label:"File Name","min-width":"250"},{default:l(({row:o})=>[s("div",ot,[t(n,{class:"file-icon"},{default:l(()=>[t(r(c),{icon:"mdi:file-document-outline"})]),_:1}),s("div",st,[s("span",nt,_(o.name),1),s("span",it,_(ye(o.modified)),1)])])]),_:1}),t(P,{label:"Status",width:"150"},{default:l(({row:o})=>[t(R,{type:z(o).type,size:"small",class:ve([z(o).class,"status-tag"])},{default:l(()=>[t(n,{size:10,class:"status-icon"},{default:l(()=>[t(r(c),{icon:z(o).icon},null,8,["icon"])]),_:2},1024),v(" "+_(z(o).text),1)]),_:2},1032,["type","class"])]),_:1}),t(P,{label:"Services",width:"120"},{default:l(({row:o})=>[s("div",rt,[t(n,{size:"12",class:"services-icon"},{default:l(()=>[t(r(c),{icon:"mdi:server"})]),_:1}),s("span",ct,_(o.servicesCount||"?"),1)])]),_:1}),t(P,{label:"Actions",width:"240",fixed:"right","class-name":"actions-column"},{default:l(({row:o})=>[s("div",dt,[s("div",ut,[t(D,{content:z(o).text==="Running"?"Stop":"Deploy",placement:"top"},{default:l(()=>[t(d,{type:z(o).text==="Running"?"warning":"success",size:"small",circle:"",onClick:Z(O=>ke(o),["stop"]),loading:G.value[o.name],class:"action-btn-circle"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:z(o).text==="Running"?"mdi:stop":"mdi:play"},null,8,["icon"])]),_:2},1024)]),_:2},1032,["type","onClick","loading"])]),_:2},1032,["content"]),t(D,{content:"Restart",placement:"top"},{default:l(()=>[t(d,{type:"primary",size:"small",circle:"",onClick:Z(O=>xe(o),["stop"]),loading:Q.value[o.name],class:"action-btn-circle",disabled:z(o).text!=="Running"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:restart"})]),_:1})]),_:2},1032,["onClick","loading","disabled"])]),_:2},1024),t(D,{content:"Edit",placement:"top"},{default:l(()=>[t(d,{type:"info",size:"small",circle:"",onClick:Z(O=>Ce(o.name),["stop"]),class:"action-btn-circle"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:pencil"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(D,{content:"Delete",placement:"top"},{default:l(()=>[t(d,{type:"danger",size:"small",circle:"",onClick:Z(O=>we(o.name),["stop"]),loading:H.value[o.name],class:"action-btn-circle"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:delete"})]),_:1})]),_:2},1032,["onClick","loading"])]),_:2},1024)])])]),_:1})]),_:1},8,["data"])),[[Le,S.value]])])),M.value.length>0?(y(),w("div",mt,[s("div",pt,[s("span",vt," Showing "+_(M.value.length)+" of "+_(x.value.length)+" files ",1)]),s("div",ft,[t(d,{size:"small",onClick:e[3]||(e[3]=o=>m.value=!0),class:"footer-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:plus"})]),_:1}),e[20]||(e[20]=v(" New Compose "))]),_:1,__:[20]})])])):U("",!0)]),_:1},8,["class"])]),t(Y,{modelValue:m.value,"onUpdate:modelValue":e[10]||(e[10]=o=>m.value=o),title:L.value?"Edit Docker Compose":"Create Docker Compose",width:"800px",class:"clean-dialog",onClosed:ie},{footer:l(()=>[s("div",Ct,[t(d,{onClick:e[9]||(e[9]=o=>m.value=!1),size:"small"},{default:l(()=>e[25]||(e[25]=[v("Cancel")])),_:1,__:[25]}),t(d,{type:"primary",onClick:he,loading:I.value,size:"small"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:content-save"})]),_:1}),v(" "+_(L.value?"Update":"Create"),1)]),_:1},8,["loading"])])]),default:l(()=>[s("div",_t,[t(Ue,{model:i.value,ref:"composeFormRef","label-width":"120px","label-position":"top"},{default:l(()=>[s("div",gt,[t(q,{label:"Container Name",prop:"containerName",rules:[{required:!0,message:"Container name is required",trigger:"blur"},{pattern:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/,message:"Invalid container name"}],class:"form-item-half"},{default:l(()=>[t(p,{modelValue:i.value.containerName,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value.containerName=o),placeholder:"my-awesome-app",onInput:ge,size:"small"},null,8,["modelValue"])]),_:1}),t(q,{label:"Filename",class:"form-item-half"},{default:l(()=>[t(p,{modelValue:i.value.filename,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value.filename=o),placeholder:"docker-compose.yml",size:"small"},{append:l(()=>e[21]||(e[21]=[s("span",null,".yml",-1)])),_:1},8,["modelValue"])]),_:1})]),t(q,{label:"Description"},{default:l(()=>[t(p,{modelValue:i.value.description,"onUpdate:modelValue":e[6]||(e[6]=o=>i.value.description=o),type:"textarea",rows:2,placeholder:"Brief description of this compose file",size:"small"},null,8,["modelValue"])]),_:1}),t(q,null,{default:l(()=>[t(Pe,{modelValue:i.value.autoStart,"onUpdate:modelValue":e[7]||(e[7]=o=>i.value.autoStart=o),label:"Start containers immediately"},null,8,["modelValue"])]),_:1}),t(q,{label:"Compose Configuration"},{default:l(()=>[s("div",yt,[e[24]||(e[24]=s("span",null,"docker-compose.yml",-1)),s("div",ht,[t(d,{size:"small",onClick:Fe},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:lightbulb-on"})]),_:1}),e[22]||(e[22]=v(" Sample "))]),_:1,__:[22]}),t(d,{size:"small",onClick:$e,type:"primary"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:code-braces"})]),_:1}),e[23]||(e[23]=v(" Format "))]),_:1,__:[23]})])]),t(p,{modelValue:i.value.content,"onUpdate:modelValue":e[8]||(e[8]=o=>i.value.content=o),type:"textarea",rows:15,placeholder:`version: '3'
services:
  web:
    image: nginx:alpine
    ports:
      - '80:80'
    volumes:
      - ./html:/usr/share/nginx/html`,class:"code-editor",resize:"none"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue","title"]),t(Y,{modelValue:C.value,"onUpdate:modelValue":e[12]||(e[12]=o=>C.value=o),title:"Docker Compose Templates",width:"800px",class:"clean-dialog"},{default:l(()=>[s("div",wt,[s("div",kt,[t(p,{modelValue:j.value,"onUpdate:modelValue":e[11]||(e[11]=o=>j.value=o),placeholder:"Search templates...",size:"small",class:"search-input",clearable:""},{prefix:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:magnify"})]),_:1})]),_:1},8,["modelValue"])])]),s("div",bt,[(y(!0),w(qe,null,Oe(se.value,o=>(y(),w("div",{key:o.name,class:"template-card"},[s("div",xt,[t(n,null,{default:l(()=>[t(r(c),{icon:o.metadata?.icon||"mdi:docker"},null,8,["icon"])]),_:2},1024)]),s("div",St,[s("h4",Vt,_(o.name),1),s("p",Nt,_(o.description),1),s("div",zt,[o.metadata?.ports?(y(),w("span",Dt,[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:network-outline"})]),_:1}),v(" "+_(o.metadata.ports.length)+" port(s) ",1)])):U("",!0)])]),s("div",Tt,[t(d,{type:"primary",size:"small",onClick:O=>de(o),class:"template-use-btn"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:plus"})]),_:1}),e[26]||(e[26]=v(" Use Template "))]),_:2,__:[26]},1032,["onClick"]),t(d,{type:"text",size:"small",onClick:O=>De(o),class:"template-preview-btn"},{default:l(()=>e[27]||(e[27]=[v(" Preview ")])),_:2,__:[27]},1032,["onClick"])])]))),128))]),se.value.length===0?(y(),w("div",Ft,[t(n,{size:"48"},{default:l(()=>[t(r(c),{icon:"mdi:file-search-outline"})]),_:1}),e[28]||(e[28]=s("p",null,"No templates found",-1))])):U("",!0)]),_:1},8,["modelValue"]),t(Y,{modelValue:T.value,"onUpdate:modelValue":e[14]||(e[14]=o=>T.value=o),title:`Preview: ${N.value?.name}`,width:"800px",class:"clean-dialog"},{footer:l(()=>[s("div",Lt,[t(d,{onClick:e[13]||(e[13]=o=>T.value=!1),size:"small"},{default:l(()=>e[29]||(e[29]=[v("Cancel")])),_:1,__:[29]}),t(d,{type:"primary",onClick:Te,size:"small"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:file-import"})]),_:1}),e[30]||(e[30]=v(" Use This Template "))]),_:1,__:[30]})])]),default:l(()=>[s("div",$t,[N.value?.metadata?(y(),w("div",At,[N.value.metadata.description?(y(),w("div",Et,[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:information-outline"})]),_:1}),s("span",null,_(N.value.metadata.description),1)])):U("",!0),N.value.metadata.ports?(y(),w("div",Rt,[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:network-outline"})]),_:1}),s("span",null,"Ports: "+_(N.value.metadata.ports.join(", ")),1)])):U("",!0)])):U("",!0),s("div",Pt,[s("pre",Ut,_(le.value),1)])])]),_:1},8,["modelValue","title"]),t(Y,{modelValue:F.value,"onUpdate:modelValue":e[15]||(e[15]=o=>F.value=o),title:`Deploying ${$.value}`,width:"900px",class:"clean-dialog terminal-dialog",onClosed:ce},{footer:l(()=>[s("div",It,[t(d,{onClick:Ve,size:"small"},{default:l(()=>[t(n,null,{default:l(()=>[t(r(c),{icon:"mdi:close"})]),_:1}),e[31]||(e[31]=v(" Close "))]),_:1,__:[31]})])]),default:l(()=>[s("div",Bt,[s("div",{ref_key:"deployTerminalRef",ref:J,class:"terminal"},null,512)])]),_:1},8,["modelValue","title"])])}}},qt=Be(Mt,[["__scopeId","data-v-1488e86e"]]);export{qt as default};
