import{_ as He,u as fe,r as b,a as We,v as h,c as he,o as Ge,b as S,A as je,h as k,e as d,w as l,i as y,d as _,f as c,g as o,k as r,t as i,N as Ke,m as g,B as Qe,n as N,O as qe,P as Je,I as m,F as j,Q as Xe,x as Se,E as f,C as F}from"./index-naspanel.js";const Ye={class:"widget-header"},Ze={class:"header-left"},et={class:"title-wrapper"},tt={class:"widget-title"},at={class:"header-actions"},st={class:"alert-content"},rt={class:"alert-description"},ot={key:1,class:"error-container mb-4"},nt={class:"table-container"},lt={class:"monitor-cell"},it={class:"device-cell"},ct={class:"device-info"},ut={class:"device-name"},dt={key:0,class:"shock-indicator"},mt={class:"model-text"},pt={class:"vendor-cell"},gt={class:"vendor-name"},ft={class:"serial-text"},ht={class:"capacity-cell"},St={class:"capacity-value"},_t={class:"temp-value"},vt={key:1,class:"temp-cell temp-unknown"},bt={key:0,class:"status-container"},yt={class:"repair-needed-indicator"},wt={class:"repair-buttons"},kt={class:"button-text"},Tt={class:"button-text"},$t={class:"action-buttons"},Dt={class:"raw-data-container"},Ct={class:"raw-data-content"},Et={key:0,class:"sector-details-container"},xt={class:"sector-summary"},It={key:0,class:"shock-warning"},Rt={class:"sector-actions mt-4"},Mt={class:"sector-info mt-4"},At={class:"info-content"},Lt={key:0,class:"shock-info"},Pt={key:0,class:"progress-container"},Bt={class:"progress-info"},Vt={key:0},Ot={key:1},Ut={class:"test-actions mt-4"},zt={name:"StorageSmartDevices",displayName:"Monitorowane urzÄ…dzenia"},Nt=Object.assign(zt,{setup(Ft){const{t:a}=fe(),L=b([]),p=b(!1),E=b(null),P=b(!1),O=b(!1),K=b(""),U=b(!1),T=b(null),B=b(null),z=b(!1),M=b(null),x=b(0),I=b(null),_e=We();h.defaults.baseURL=`${window.location.protocol}//${window.location.hostname}:1112`;const ve=he(()=>P.value?a("storageSmart.smartNotAvailable"):E.value?a("storageSmart.errorLoading"):a("storageSmart.noDevices")),be=he(()=>{if(!T.value)return[];const t=T.value,e=fe().t,s=[{type:e("storageSmart.sectorTypes.reallocated"),count:t.reallocated,description:e("storageSmart.sectorDesc.reallocated")},{type:e("storageSmart.sectorTypes.pending"),count:t.pending,description:e("storageSmart.sectorDesc.pending")},{type:e("storageSmart.sectorTypes.offline"),count:t.offline,description:e("storageSmart.sectorDesc.offline")},{type:e("storageSmart.sectorTypes.reported"),count:t.reported,description:e("storageSmart.sectorDesc.reported")},{type:e("storageSmart.sectorTypes.timeout"),count:t.timeout,description:e("storageSmart.sectorDesc.timeout")}];return t.gsense>0&&s.push({type:e("storageSmart.sectorTypes.gsense"),count:t.gsense,description:e("storageSmart.sectorDesc.gsense")}),s}),ye=t=>t.isSSD?"ph:circle-wavy-warning":t.device?.startsWith("nvme")?"ph:chip":(t.device?.startsWith("sd"),"ph:hard-drive"),Q=t=>{if(!t)return null;const e=t.toLowerCase();return e.includes("samsung")?"ph:device-tablet":e.includes("western")||e.includes("wd")?"ph:circle-wavy":e.includes("seagate")?"ph:wave-sawtooth":e.includes("toshiba")?"ph:lightning":e.includes("intel")?"ph:cpu":e.includes("kingston")?"ph:crown":e.includes("crucial")?"ph:star":e.includes("sandisk")?"ph:flashlight":null},we=(t,e)=>{switch(q(t,e)){case"temp-critical":return"ph:fire";case"temp-warning":return"ph:thermometer-hot";case"temp-normal":return"ph:thermometer";default:return"ph:thermometer-simple"}},ke=t=>{if(t.badSectors>0)return"ph:warning-circle";if(C(t))return"ph:activity";switch(t.status){case"healthy":return"ph:check-circle";case"warning":return"ph:warning";case"error":return"ph:x-circle";default:return"ph:question"}},Te=t=>{K.value=JSON.stringify(t.rawData,null,2),O.value=!0},$e=(t,e=1)=>{if(isNaN(t))return"â€”";if(t===0)return"0 B";const s=1024,u=["B","KB","MB","GB","TB"],w=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,w)).toFixed(e))+" "+u[w]},q=(t,e=!1)=>{if(t==null)return"temp-unknown";const s=e?ae:se,u=s-10;return t>s?"temp-critical":t>u?"temp-warning":"temp-normal"},De=t=>t.badSectors>0?a("storageSmart.statusValues.badSectors"):C(t)?a("storageSmart.statusValues.shocks"):t.status?a(`storageSmart.statusValues.${t.status}`)||t.status:a("storageSmart.statusValues.unknown"),Ce=t=>{if(t.badSectors>0)return"warning";if(C(t))return"danger";switch(t.status){case"healthy":return"success";case"warning":return"warning";case"error":return"danger";default:return"info"}},Ee=t=>{_e.push(`/storage/smart/devices/details/${encodeURIComponent(t)}`)},xe=async()=>{try{await navigator.clipboard.writeText(a("storageSmart.installCommand")),Se.success(a("storageSmart.commandCopied"))}catch{Se.error(a("common.copyFailed"))}},C=t=>{if(!t.rawData?.ata_smart_attributes?.table)return!1;const e=t.rawData.ata_smart_attributes.table.find(s=>s.id===191||s.name==="G-Sense_Error_Rate");return e?.raw?.value?parseInt(e.raw.value)>1e3:!1},Ie=t=>{if(!t.rawData?.ata_smart_attributes?.table)return null;const e=t.rawData.ata_smart_attributes.table.find(u=>u.id===191||u.name==="G-Sense_Error_Rate");if(!e?.raw?.value)return null;const s=parseInt(e.raw.value);return s<100?null:s<1e3?a("storageSmart.shockLevel.minor"):s<1e4?a("storageSmart.shockLevel.moderate"):s<1e5?a("storageSmart.shockLevel.severe"):a("storageSmart.shockLevel.critical")},J=t=>t.badSectors>0||t.outOfSpecParams&&t.outOfSpecParams.length>0||t.status==="warning"||t.status==="error"||te(t.temperature,t.isSSD)||Z(t.rawData)||ee(t.rawData)||C(t),X=t=>{if(!t?.ata_smart_attributes?.table)return null;const e={reallocated:0,pending:0,offline:0,reported:0,timeout:0,gsense:0,total:0};return[{id:5,key:"reallocated",name:"Reallocated Sectors"},{id:197,key:"pending",name:"Pending Sectors"},{id:198,key:"offline",name:"Offline Uncorrectable"},{id:187,key:"reported",name:"Reported Uncorrectable"},{id:188,key:"timeout",name:"Command Timeout"},{id:191,key:"gsense",name:"G-Sense Error Rate"}].forEach(u=>{const w=t.ata_smart_attributes.table.find($=>$.id===u.id);w?.raw?.value!==void 0&&(e[u.key]=parseInt(w.raw.value))}),e.total=e.reallocated+e.pending+e.offline+e.reported+e.timeout,e},Y=t=>{if(!t.available)return a("storageSmart.deviceUnavailable");const e=[],s=X(t.rawData),u=Ie(t);return u&&e.push(`ðŸš¨ ${u}`),s&&(s.reallocated>0&&e.push(`${a("storageSmart.sectorTypes.reallocated")}: ${s.reallocated}`),s.pending>0&&e.push(`${a("storageSmart.sectorTypes.pending")}: ${s.pending}`),s.offline>0&&e.push(`${a("storageSmart.sectorTypes.offline")}: ${s.offline}`),s.reported>0&&e.push(`${a("storageSmart.sectorTypes.reported")}: ${s.reported}`),s.timeout>0&&e.push(`${a("storageSmart.sectorTypes.timeout")}: ${s.timeout}`),s.gsense>1e3&&e.push(`${a("storageSmart.sectorTypes.gsense")}: ${s.gsense}`)),t.outOfSpecParams&&t.outOfSpecParams.length>0&&e.push(`${a("storageSmart.outOfSpecParams")}: ${t.outOfSpecParams.length}`),t.status&&t.status!=="healthy"&&e.push(`${a("storageSmart.status")}: ${t.status}`),Z(t.rawData)&&e.push(a("storageSmart.highLoadCycle")),ee(t.rawData)&&e.push(a("storageSmart.endToEndErrors")),te(t.temperature,t.isSSD)&&e.push(a("storageSmart.criticalTemperature")),e.length>0?`${a("storageSmart.needsRepair")}:
${e.join(`
â€¢ `)}`:a("storageSmart.deviceHealthy")},Z=t=>{if(!t?.ata_smart_attributes?.table)return!1;const e=t.ata_smart_attributes.table.find(s=>s.id===193||s.name==="Load_Cycle_Count");return e?.raw?.value?parseInt(e.raw.value)>3e5:!1},ee=t=>t?.ata_smart_attributes?.table?t.ata_smart_attributes.table.find(s=>s.id===184||s.name==="End-to-End_Error")?.raw?.value>0:!1,te=(t,e=!1)=>t?t>(e?ae:se):!1,ae=50,se=55,A=async()=>{try{p.value=!0,E.value=null,P.value=!1;const[t,e]=await Promise.all([h.get("/api/storage/smart"),h.get("/api/storage/smart/monitoring")]);L.value=t.data.data.map(s=>{const u=e.data.devices?.[s.device]?.monitored||!1,w=re(s.rawData),$=oe(s.rawData),V=s.rawData?.rotation_rate===0||s.model?.toLowerCase().includes("ssd");return{...s,monitored:u,loading:!1,badSectors:w,outOfSpecParams:$,isSSD:V,temperature:ne(s.rawData)||s.temperature,available:s.available!==!1}}),L.value.length===0&&(P.value=!0)}catch(t){if(console.error("Error fetching devices:",t),t.response?.status===404||t.response?.data?.error?.includes("SMART")?(P.value=!0,E.value=a("storageSmart.smartNotAvailable")):E.value=t.response?.data?.error||a("storageSmart.errorLoading"),t.response?.config?.url.includes("monitoring"))try{const e=await h.get("/api/storage/smart");L.value=e.data.data.map(s=>({...s,monitored:!1,loading:!1,badSectors:re(s.rawData),outOfSpecParams:oe(s.rawData),isSSD:s.rawData?.rotation_rate===0||s.model?.toLowerCase().includes("ssd"),temperature:ne(s.rawData)||s.temperature,available:!0}))}catch(e){console.error("Error fetching SMART data:",e)}}finally{p.value=!1}},Re=async t=>{const e=t.monitored;t.loading=!0;try{await h.post("/api/storage/smart/monitoring",{device:t.device,enabled:t.monitored}),f.success({title:a("storageSmart.title"),message:t.monitored?a("storageSmart.enableMonitoringSuccess"):a("storageSmart.disableMonitoringSuccess"),duration:2e3})}catch(s){t.monitored=!e,f.error({title:a("storageSmart.title"),message:s.response?.data?.error||a("common.error"),duration:3e3})}finally{t.loading=!1}},re=t=>{if(!t?.ata_smart_attributes?.table)return 0;const e={reallocated:5,pending:197,offline:198,reported:187,commandTimeout:188};let s=0;for(const[u,w]of Object.entries(e)){const $=t.ata_smart_attributes.table.find(V=>V.id===w);$?.raw?.value!==void 0&&(s+=parseInt($.raw.value))}return s},oe=t=>t?.ata_smart_attributes?.table?t.ata_smart_attributes.table.filter(e=>e.value&&e.thresh&&e.value<=e.thresh).map(e=>({id:e.id,name:e.name,value:e.value,threshold:e.thresh})):[],ne=t=>{if(!t)return null;if(t.nvme_smart_health_information_log?.temperature)return Math.round(t.nvme_smart_health_information_log.temperature-273);if(t.temperature?.current)return t.temperature.current;if(t.ata_smart_attributes?.table){const e=t.ata_smart_attributes.table.find(s=>["Temperature_Celsius","Temperature_Internal"].includes(s.name)||s.id===194);if(e?.raw?.value)return parseInt(e.raw.value)}return null},Me=async(t,e)=>{switch(t){case"bad-sectors":await le(e);break;case"extended-test":await ce(e);break;case"load-cycle":await Le(e);break;case"refresh-attrs":await Pe(e);break;case"auto-offline":await Be(e);break;case"secure-erase":await Ve(e);break;case"check-status":await ue(e);break;case"sector-details":await de(e);break;case"physical-issues":await me(e);break}},le=async t=>{try{p.value=!0;const e=await h.post("/api/storage/smart/repair-bad-sectors",{device:t.device});e.data.testStarted?(f.success({title:a("storageSmart.repairStarted"),message:`Test SMART dla ${t.device} zostaÅ‚ uruchomiony`,duration:3e3}),H(t,e.data.testActive)):f.warning({title:a("storageSmart.repairWarning"),message:e.data.message||a("storageSmart.testMayNotStart"),duration:5e3})}catch(e){f.error({title:a("storageSmart.repairError"),message:e.response?.data?.error||a("storageSmart.failedToStartRepair"),duration:5e3})}finally{p.value=!1}},H=(t,e)=>{M.value=t,x.value=0,z.value=!0,e&&(I.value=setInterval(()=>{W()},1e4))},W=async()=>{if(M.value)try{const t=await h.get(`/api/storage/smart/test-status/${encodeURIComponent(M.value.device)}`);t.data.testActive?x.value=t.data.progress:(ie(),f.success({title:a("storageSmart.testCompleted"),message:a("storageSmart.testFinishedSuccess"),duration:5e3}),A())}catch(t){console.error("Error checking test progress:",t)}},Ae=()=>{I.value&&clearInterval(I.value),W(),I.value=setInterval(()=>{W()},1e4)},ie=()=>{I.value&&(clearInterval(I.value),I.value=null),z.value=!1,M.value=null},ce=async t=>{if(await F.confirm(`${a("storageSmart.extendedTestWarning1")} ${t.device} ${a("storageSmart.extendedTestWarning2")}<br>${a("storageSmart.continueQuestion")}`,a("storageSmart.runExtendedTest"),{confirmButtonText:a("common.run"),cancelButtonText:a("common.cancel"),type:"warning",dangerouslyUseHTMLString:!0}))try{p.value=!0;const s=await h.post("/api/storage/smart/run-extended-test",{device:t.device});f.success({title:a("storageSmart.testStarted"),message:s.data.message,duration:5e3}),H(t,!0)}catch(s){f.error({title:a("common.error"),message:s.response?.data?.error||a("storageSmart.failedToStartTest"),duration:5e3})}finally{p.value=!1}},Le=async t=>{try{p.value=!0;const e=await h.post("/api/storage/smart/fix-load-cycle-count",{device:t.device});f.success({title:a("storageSmart.loadCycleRepair"),message:e.data.message,duration:5e3})}catch(e){f.error({title:a("common.error"),message:e.response?.data?.error||a("storageSmart.failedToApplyFixes"),duration:5e3})}finally{p.value=!1}},Pe=async t=>{try{p.value=!0;const e=await h.post("/api/storage/smart/refresh-attributes",{device:t.device});f.success({title:a("storageSmart.attributesRefreshed"),message:a("storageSmart.smartAttributesRefreshed"),duration:3e3}),A()}catch(e){f.error({title:a("common.error"),message:e.response?.data?.error||a("storageSmart.failedToRefreshAttributes"),duration:5e3})}finally{p.value=!1}},Be=async t=>{try{p.value=!0;const e=await h.post("/api/storage/smart/enable-automatic-offline",{device:t.device});f.success({title:a("storageSmart.autoRepairEnabled"),message:e.data.message,duration:5e3})}catch(e){f.error({title:a("common.error"),message:e.response?.data?.error||a("storageSmart.failedToEnableAutoRepair"),duration:5e3})}finally{p.value=!1}},Ve=async t=>{if(await F.confirm(`${a("storageSmart.secureEraseWarning1")} ${t.device}!<br><br>
    <strong>${a("storageSmart.secureEraseWarning2")}</strong><br>
    ${a("storageSmart.continueQuestion")}`,a("storageSmart.ataSecureErase"),{confirmButtonText:a("storageSmart.yesEraseAll"),cancelButtonText:a("common.cancel"),type:"error",dangerouslyUseHTMLString:!0,confirmButtonClass:"el-button--danger"}))try{p.value=!0;const s=await h.post("/api/storage/smart/ata-secure-erase",{device:t.device});f.success({title:a("storageSmart.secureEraseCompleted"),message:a("storageSmart.allDataSecurelyErased"),duration:1e4}),A()}catch(s){f.error({title:a("storageSmart.secureEraseError"),message:s.response?.data?.error||a("storageSmart.operationFailed"),duration:1e4})}finally{p.value=!1}},ue=async t=>{try{p.value=!0;const e=await h.get(`/api/storage/smart/repair-status/${encodeURIComponent(t.device)}`),s=e.data.testsInProgress?a("storageSmart.testsInProgress"):a("storageSmart.noActiveTests");let u=`<pre>${a("storageSmart.repairStatus")}: ${s}

${a("storageSmart.attributes")}:
`;u+=`â€¢ ${a("storageSmart.sectorTypes.reallocated")}: ${e.data.attributes.badSectors}
`,u+=`â€¢ ${a("storageSmart.sectorTypes.pending")}: ${e.data.attributes.pendingSectors}
`,u+=`â€¢ ${a("storageSmart.sectorTypes.offline")}: ${e.data.attributes.offlineUncorrectable}
`,u+=`â€¢ ${a("storageSmart.loadCycleCount")}: ${e.data.attributes.loadCycleCount}
`,u+=`â€¢ ${a("storageSmart.endToEndError")}: ${e.data.attributes.endToEndError}
`,u+=`â€¢ ${a("storageSmart.gSenseErrorRate")}: ${e.data.attributes.gSenseErrorRate}
`,u+=`â€¢ ${a("storageSmart.temperature")}: ${e.data.attributes.temperature}Â°C
</pre>`,F.alert(u,a("storageSmart.repairStatus"),{dangerouslyUseHTMLString:!0,confirmButtonText:"OK",customClass:"repair-status-dialog"})}catch(e){f.error({title:a("common.error"),message:e.response?.data?.error||a("storageSmart.failedToGetStatus"),duration:5e3})}finally{p.value=!1}},de=async t=>{try{p.value=!0,B.value=t;const e=await h.get(`/api/storage/smart/sector-details/${encodeURIComponent(t.device)}`);e.data.success&&(T.value=e.data.sectorDetails,U.value=!0)}catch{T.value=X(t.rawData),U.value=!0}finally{p.value=!1}},me=async t=>{try{p.value=!0;const e=await h.post("/api/storage/smart/fix-physical-issues",{device:t.device});F.alert(`<strong>${a("storageSmart.physicalIssuesDiagnosis")}:</strong><br><br>
      <strong>${a("storageSmart.gSenseErrorRate")}:</strong> ${e.data.gSenseErrorRate}<br>
      <strong>${a("storageSmart.shockLevel")}:</strong> ${e.data.shockLevel}<br><br>
      <strong>${a("storageSmart.recommendations")}:</strong><br>
      ${e.data.recommendations.join("<br>")}`,a("storageSmart.physicalShockProblem"),{dangerouslyUseHTMLString:!0,confirmButtonText:a("common.understand"),customClass:"shock-alert-dialog"}),H(t,!0)}catch(e){f.error({title:a("storageSmart.diagnosisError"),message:e.response?.data?.error||a("storageSmart.failedToDiagnosePhysical"),duration:5e3})}finally{p.value=!1}};return Ge(async()=>{await A()}),(t,e)=>{const s=S("el-button"),u=S("el-tooltip"),w=S("el-input"),$=S("el-alert"),V=S("el-switch"),v=S("el-table-column"),pe=S("el-tag"),D=S("el-dropdown-item"),Oe=S("el-dropdown-menu"),Ue=S("el-dropdown"),ge=S("el-table"),G=S("el-dialog"),ze=S("el-progress"),Ne=S("el-card"),Fe=je("loading");return d(),k(Ne,{class:"storage-smart-widget"},{header:l(()=>[c("div",Ye,[c("div",Ze,[o(r(m),{icon:"ph:hard-drives",width:"20",height:"20",class:"header-icon"}),c("div",et,[c("h3",tt,i(r(a)("storageSmart.title")),1)])]),c("div",at,[o(u,{content:r(a)("storageSmart.refresh"),placement:"top"},{default:l(()=>[o(s,{size:"small",onClick:A,loading:p.value,icon:r(Xe),circle:"",class:"refresh-btn"},null,8,["loading","icon"])]),_:1},8,["content"])])])]),default:l(()=>[P.value?(d(),k($,{key:0,title:r(a)("storageSmart.notAvailableTitle"),type:"warning",description:r(a)("storageSmart.notAvailableMessage"),"show-icon":"",closable:!1,class:"availability-alert mb-4"},{default:l(()=>[c("div",st,[c("p",rt,i(r(a)("storageSmart.notAvailableSolution")),1),o(w,{"model-value":r(a)("storageSmart.installCommand"),readonly:"",class:"install-command-input mb-3"},{append:l(()=>[o(s,{onClick:xe,icon:r(Ke),size:"small"},null,8,["icon"])]),_:1},8,["model-value"]),o(s,{type:"primary",size:"small",onClick:A,loading:p.value},{default:l(()=>[g(i(r(a)("storageSmart.retry")),1)]),_:1},8,["loading"])])]),_:1},8,["title","description"])):y("",!0),E.value?(d(),_("div",ot,[o($,{title:r(a)("common.error"),description:E.value,type:"error","show-icon":"",closable:"",onClose:e[0]||(e[0]=n=>E.value=null)},null,8,["title","description"])])):y("",!0),c("div",nt,[Qe((d(),k(ge,{data:L.value,"row-key":"device","empty-text":ve.value,class:N(["devices-table",{empty:L.value.length===0}]),style:{width:"100%"}},{default:l(()=>[o(v,{prop:"monitored",label:r(a)("storageSmart.monitored"),align:"center",width:"100"},{default:l(({row:n})=>[c("div",lt,[o(V,{modelValue:n.monitored,"onUpdate:modelValue":R=>n.monitored=R,onChange:R=>Re(n),loading:n.loading,size:"small","inline-prompt":"","active-icon":r(Je),"inactive-icon":r(qe),style:{"--el-switch-on-color":"var(--el-color-success)","--el-switch-off-color":"var(--el-border-color)"}},null,8,["modelValue","onUpdate:modelValue","onChange","loading","active-icon","inactive-icon"])])]),_:1},8,["label"]),o(v,{prop:"device",label:r(a)("storageSmart.device")},{default:l(({row:n})=>[c("div",it,[c("div",{class:N(["device-icon",{ssd:n.isSSD,hdd:!n.isSSD}])},[o(r(m),{icon:ye(n),width:"14",height:"14"},null,8,["icon"])],2),c("div",ct,[c("span",ut,i(n.device),1),c("span",{class:N(["device-type",n.isSSD?"ssd-tag":"hdd-tag"])},i(n.isSSD?"SSD":"HDD"),3),C(n)?(d(),_("div",dt,[o(r(m),{icon:"ph:warning",width:"10"})])):y("",!0)])])]),_:1},8,["label"]),o(v,{prop:"model",label:r(a)("storageSmart.model"),"show-overflow-tooltip":""},{default:l(({row:n})=>[c("span",mt,i(n.model||"â€”"),1)]),_:1},8,["label"]),o(v,{prop:"vendor",label:r(a)("storageSmart.vendor"),"show-overflow-tooltip":""},{default:l(({row:n})=>[c("div",pt,[Q(n.vendor)?(d(),k(r(m),{key:0,icon:Q(n.vendor),width:"14",height:"14",class:"vendor-icon"},null,8,["icon"])):y("",!0),c("span",gt,i(n.vendor||"â€”"),1)])]),_:1},8,["label"]),o(v,{prop:"serial",label:r(a)("storageSmart.serial"),"show-overflow-tooltip":""},{default:l(({row:n})=>[c("span",ft,i(n.serial||"â€”"),1)]),_:1},8,["label"]),o(v,{prop:"capacity",label:r(a)("storageSmart.capacity"),align:"right"},{default:l(({row:n})=>[c("div",ht,[c("span",St,i($e(n.capacity)),1)])]),_:1},8,["label"]),o(v,{prop:"temperature",label:r(a)("storageSmart.temperature"),align:"center"},{default:l(({row:n})=>[n.temperature!==null&&n.temperature!==void 0?(d(),_("div",{key:0,class:N(["temp-cell",q(n.temperature,n.isSSD)])},[o(r(m),{icon:we(n.temperature,n.isSSD),width:"12",height:"12"},null,8,["icon"]),c("span",_t,i(n.temperature)+"Â°C",1),n.rawData?(d(),k(u,{key:0,content:r(a)("storageSmart.viewRawData"),placement:"top"},{default:l(()=>[o(s,{size:"small",circle:"",onClick:R=>Te(n),class:"raw-data-btn"},{default:l(()=>[o(r(m),{icon:"ph:code",width:"10"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])):y("",!0)],2)):(d(),_("div",vt,[o(r(m),{icon:"ph:thermometer-simple",width:"12",height:"12"}),e[9]||(e[9]=c("span",{class:"temp-na"},"â€”",-1))]))]),_:1},8,["label"]),o(v,{prop:"status",label:r(a)("storageSmart.statusS")},{default:l(({row:n})=>[n.available!==!1?(d(),_("div",bt,[o(pe,{type:Ce(n),effect:"plain",class:"status-tag",size:"small"},{default:l(()=>[o(r(m),{icon:ke(n),width:"10",height:"10",class:"status-icon"},null,8,["icon"]),g(" "+i(De(n)),1)]),_:2},1032,["type"]),J(n)?(d(),k(u,{key:0,effect:"dark",placement:"top",content:Y(n)},{default:l(()=>[c("div",yt,[o(r(m),{icon:"ph:wrench",width:"12"})])]),_:2},1032,["content"])):y("",!0)])):(d(),k(pe,{key:1,type:"info",effect:"plain",class:"status-tag",size:"small"},{default:l(()=>[o(r(m),{icon:"ph:question",width:"10",height:"10",class:"status-icon"}),g(" "+i(r(a)("storageSmart.statusValues.unavailable")),1)]),_:1}))]),_:1},8,["label"]),o(v,{label:r(a)("storageSmart.repair"),width:"160",align:"center"},{default:l(({row:n})=>[c("div",wt,[n.available&&J(n)?(d(),k(Ue,{key:0,size:"small",onCommand:R=>Me(R,n)},{dropdown:l(()=>[o(Oe,null,{default:l(()=>[o(D,{command:"bad-sectors",disabled:n.badSectors===0},{default:l(()=>[o(r(m),{icon:"ph:warning-circle"}),g(" "+i(r(a)("storageSmart.repairBadSectors"))+" ("+i(n.badSectors)+") ",1)]),_:2},1032,["disabled"]),o(D,{command:"physical-issues",disabled:!C(n)},{default:l(()=>[o(r(m),{icon:"ph:activity"}),g(" "+i(r(a)("storageSmart.fixPhysicalIssues"))+" "+i(C(n)?"ðŸš¨":""),1)]),_:2},1032,["disabled"]),o(D,{command:"extended-test"},{default:l(()=>[o(r(m),{icon:"ph:hourglass"}),g(" "+i(r(a)("storageSmart.runExtendedTest")),1)]),_:1}),o(D,{command:"load-cycle"},{default:l(()=>[o(r(m),{icon:"ph:cycle"}),g(" "+i(r(a)("storageSmart.fixLoadCycle")),1)]),_:1}),o(D,{command:"refresh-attrs"},{default:l(()=>[o(r(m),{icon:"ph:arrows-clockwise"}),g(" "+i(r(a)("storageSmart.refreshAttributes")),1)]),_:1}),o(D,{command:"auto-offline",divided:""},{default:l(()=>[o(r(m),{icon:"ph:robot"}),g(" "+i(r(a)("storageSmart.enableAutoRepair")),1)]),_:1}),o(D,{command:"secure-erase",disabled:!n.isSSD},{default:l(()=>[o(r(m),{icon:"ph:shield-check"}),g(" "+i(r(a)("storageSmart.ataSecureErase")),1)]),_:2},1032,["disabled"]),o(D,{command:"check-status"},{default:l(()=>[o(r(m),{icon:"ph:chart-line"}),g(" "+i(r(a)("storageSmart.checkRepairStatus")),1)]),_:1}),o(D,{command:"sector-details"},{default:l(()=>[o(r(m),{icon:"ph:info"}),g(" "+i(r(a)("storageSmart.sectorDetailsBtn")),1)]),_:1})]),_:2},1024)]),default:l(()=>[o(s,{size:"small",type:"warning",plain:""},{default:l(()=>[o(r(m),{icon:"ph:wrench",width:"12"}),c("span",kt,i(r(a)("storageSmart.repair")),1)]),_:1})]),_:2},1032,["onCommand"])):(d(),k(u,{key:1,content:Y(n),placement:"top"},{default:l(()=>[o(s,{size:"small",type:"info",plain:"",disabled:!n.available||n.badSectors===0,onClick:R=>de(n)},{default:l(()=>[n.badSectors>0?(d(),_(j,{key:0},[o(r(m),{icon:"ph:warning-circle",width:"12"}),c("span",Tt,i(n.badSectors),1)],64)):C(n)?(d(),_(j,{key:1},[o(r(m),{icon:"ph:activity",width:"12"}),e[10]||(e[10]=c("span",{class:"button-text"},"!",-1))],64)):(d(),_(j,{key:2},[o(r(m),{icon:"ph:check-circle",width:"12"}),e[11]||(e[11]=c("span",{class:"button-text"},"OK",-1))],64))]),_:2},1032,["disabled","onClick"])]),_:2},1032,["content"]))])]),_:1},8,["label"]),o(v,{label:r(a)("storageSmart.actions"),width:"80",align:"center"},{default:l(({row:n})=>[c("div",$t,[o(u,{content:r(a)("storageSmart.viewDetails"),placement:"top"},{default:l(()=>[o(s,{size:"small",circle:"",plain:"",onClick:R=>Ee(n.device),class:"action-btn"},{default:l(()=>[o(r(m),{icon:"ph:info",width:"12"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])])]),_:1},8,["label"])]),_:1},8,["data","empty-text","class"])),[[Fe,p.value]])]),o(G,{modelValue:O.value,"onUpdate:modelValue":e[2]||(e[2]=n=>O.value=n),title:r(a)("storageSmart.rawDataTitle"),width:"80%",class:"raw-data-dialog"},{footer:l(()=>[o(s,{onClick:e[1]||(e[1]=n=>O.value=!1)},{default:l(()=>[g(i(r(a)("common.close")),1)]),_:1})]),default:l(()=>[c("div",Dt,[c("pre",Ct,i(K.value),1)])]),_:1},8,["modelValue","title"]),o(G,{modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=n=>U.value=n),title:r(a)("storageSmart.sectorDetails"),width:"60%",class:"sector-details-dialog"},{default:l(()=>[T.value?(d(),_("div",Et,[c("div",xt,[c("h4",null,i(r(a)("storageSmart.totalBadSectors"))+": "+i(T.value.total),1),T.value.gsense>1e3?(d(),_("div",It,[o(r(m),{icon:"ph:warning",width:"16"}),c("span",null,i(r(a)("storageSmart.shockDetected"))+": "+i(T.value.gsense),1)])):y("",!0)]),o(ge,{data:be.value,style:{width:"100%"},size:"small"},{default:l(()=>[o(v,{prop:"type",label:r(a)("storageSmart.sectorType")},null,8,["label"]),o(v,{prop:"count",label:r(a)("storageSmart.count"),align:"right"},null,8,["label"]),o(v,{prop:"description",label:r(a)("storageSmart.description")},null,8,["label"])]),_:1},8,["data"]),c("div",Rt,[o(s,{type:"warning",onClick:e[3]||(e[3]=n=>le(B.value))},{default:l(()=>[g(i(r(a)("storageSmart.startRepair")),1)]),_:1}),o(s,{onClick:e[4]||(e[4]=n=>ce(B.value))},{default:l(()=>[g(i(r(a)("storageSmart.runExtendedTest")),1)]),_:1}),T.value.gsense>1e3?(d(),k(s,{key:0,type:"danger",onClick:e[5]||(e[5]=n=>me(B.value))},{default:l(()=>[g(i(r(a)("storageSmart.fixPhysicalIssues")),1)]),_:1})):y("",!0),o(s,{onClick:e[6]||(e[6]=n=>ue(B.value))},{default:l(()=>[g(i(r(a)("storageSmart.checkStatus")),1)]),_:1})]),c("div",Mt,[o($,{type:"info",closable:!1},{title:l(()=>[g(i(r(a)("storageSmart.sectorInfoTitle")),1)]),default:l(()=>[c("div",At,[c("p",null,i(r(a)("storageSmart.sectorInfo1")),1),c("p",null,i(r(a)("storageSmart.sectorInfo2")),1),c("p",null,i(r(a)("storageSmart.sectorInfo3")),1),T.value.gsense>1e3?(d(),_("p",Lt,[c("strong",null,i(r(a)("storageSmart.shockWarning")),1),e[12]||(e[12]=c("br",null,null,-1)),g(" "+i(r(a)("storageSmart.shockAdvice")),1)])):y("",!0)])]),_:1})])])):y("",!0)]),_:1},8,["modelValue","title"]),o(G,{modelValue:z.value,"onUpdate:modelValue":e[8]||(e[8]=n=>z.value=n),title:r(a)("storageSmart.testProgress"),width:"50%",class:"test-progress-dialog"},{default:l(()=>[M.value?(d(),_("div",Pt,[c("div",Bt,[c("p",null,[g(i(r(a)("storageSmart.testingDevice"))+": ",1),c("strong",null,i(M.value.device),1)]),x.value>0?(d(),_("p",Vt,i(r(a)("storageSmart.progress"))+": "+i(x.value)+"%",1)):(d(),_("p",Ot,i(r(a)("storageSmart.testStarting")),1))]),x.value>0?(d(),k(ze,{key:0,percentage:x.value,status:x.value===100?"success":"warning","stroke-width":12,"text-inside":!0},null,8,["percentage","status"])):y("",!0),c("div",Ut,[o(s,{onClick:ie},{default:l(()=>[g(i(r(a)("common.stop")),1)]),_:1}),o(s,{type:"primary",onClick:Ae},{default:l(()=>[g(i(r(a)("storageSmart.checkNow")),1)]),_:1})])])):y("",!0)]),_:1},8,["modelValue","title"])]),_:1})}}}),Wt=He(Nt,[["__scopeId","data-v-68e4a530"]]);export{Wt as default};
