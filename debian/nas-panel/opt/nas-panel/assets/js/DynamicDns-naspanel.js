import{_ as ie,u as le,r as w,c as J,D as Ce,b as y,d as $,i as q,e as g,f as s,g as a,m,k as o,I as r,t as d,p as P,w as n,F as ee,l as ae,h as C,n as L,o as Ae,A as Pe,B as je,v as z,x as G,E as k,C as Ne}from"./index-naspanel.js";import{u as oe}from"./useTheme-naspanel.js";const Ve={class:"modal-header"},qe={class:"modal-body"},Fe={class:"form-group"},Oe={class:"form-label"},Be={class:"provider-option"},Te={class:"form-label"},Me={key:0,class:"required"},We={key:0,class:"field-hint"},Le={class:"form-group"},Ze={class:"modal-footer"},He={__name:"DnsServiceForm",props:{show:Boolean,service:Object,providers:Array},emits:["update:show","save"],setup(Z,{emit:t}){const{t:T}=le(),{themeClass:j}=oe(),v=Z,N=t,h=w({provider:"",enabled:!0}),f=w(!1),A=J(()=>!!v.service),D=J(()=>v.providers.find(c=>c.id===h.value.provider)||{fields:[]});Ce(()=>v.show,c=>{c&&v.service?h.value={...v.service}:c&&(h.value={provider:"",enabled:!0},v.providers.forEach(b=>{b.fields.forEach(S=>{h.value[S.name]=""})}))});function F(){(D.value.fields||[]).forEach(b=>{b.name in h.value||(h.value[b.name]="")})}function U(){N("update:show",!1)}async function I(){f.value=!0;try{const b=(D.value.fields||[]).filter(S=>S.required&&!h.value[S.name]).map(S=>T(S.label));if(b.length>0)throw new Error(T("dynamicDns.missingFields",{fields:b.join(", ")}));N("save",h.value),U()}catch(c){console.error("Form validation error:",c)}finally{f.value=!1}}return(c,b)=>{const S=y("el-option"),M=y("el-select"),Q=y("el-input"),X=y("el-switch"),E=y("el-button");return Z.show?(g(),$("div",{key:0,class:"modal-overlay",onClick:P(U,["self"])},[s("div",{class:L(["modal",o(j)])},[s("div",Ve,[s("h3",null,[a(o(r),{icon:A.value?"mdi:pencil":"mdi:plus",width:"20",height:"20"},null,8,["icon"]),m(" "+d(A.value?c.$t("dynamicDns.editService"):c.$t("dynamicDns.addService")),1)]),s("button",{class:"btn-icon",onClick:U},[a(o(r),{icon:"mdi:close",width:"20",height:"20"})])]),s("div",qe,[s("form",{onSubmit:P(I,["prevent"])},[s("div",Fe,[s("label",Oe,[a(o(r),{icon:"mdi:web",class:"mr-1"}),m(" "+d(c.$t("dynamicDns.provider")),1)]),a(M,{modelValue:h.value.provider,"onUpdate:modelValue":b[0]||(b[0]=u=>h.value.provider=u),class:"form-control",onChange:F,placeholder:c.$t("dynamicDns.selectProvider"),size:"large"},{default:n(()=>[a(S,{value:""},{default:n(()=>[m("-- "+d(c.$t("dynamicDns.selectProvider"))+" --",1)]),_:1}),(g(!0),$(ee,null,ae(Z.providers,u=>(g(),C(S,{value:u.id,key:u.id,label:u.name},{default:n(()=>[s("div",Be,[a(o(r),{icon:u.icon,class:"mr-2"},null,8,["icon"]),s("span",null,d(u.name),1)])]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])]),h.value.provider?(g(!0),$(ee,{key:0},ae(D.value.fields,u=>(g(),$("div",{key:u.name,class:"form-group"},[s("label",Te,[m(d(c.$t(u.label))+" ",1),u.required?(g(),$("span",Me,"*")):q("",!0)]),a(Q,{modelValue:h.value[u.name],"onUpdate:modelValue":Y=>h.value[u.name]=Y,type:u.type,required:u.required,class:"form-control",placeholder:c.$t(u.label),"show-password":u.type==="password",size:"large"},null,8,["modelValue","onUpdate:modelValue","type","required","placeholder","show-password"]),u.hint?(g(),$("div",We,[a(o(r),{icon:"mdi:information",size:"14"}),m(" "+d(c.$t(u.hint)),1)])):q("",!0)]))),128)):q("",!0),s("div",Le,[a(X,{modelValue:h.value.enabled,"onUpdate:modelValue":b[1]||(b[1]=u=>h.value.enabled=u),"active-text":c.$t("dynamicDns.enabled"),"inactive-text":c.$t("dynamicDns.disabled"),size:"large"},null,8,["modelValue","active-text","inactive-text"])]),s("div",Ze,[a(E,{type:"default",onClick:U,disabled:f.value},{default:n(()=>[a(o(r),{icon:"mdi:close"}),m(" "+d(c.$t("dynamicDns.cancel")),1)]),_:1},8,["disabled"]),a(E,{type:"primary","native-type":"submit",loading:f.value,disabled:f.value},{default:n(()=>[a(o(r),{icon:f.value?"mdi:loading":"mdi:content-save"},null,8,["icon"]),m(" "+d(f.value?c.$t("dynamicDns.saving"):c.$t("dynamicDns.save")),1)]),_:1},8,["loading","disabled"])])],32)])],2)])):q("",!0)}}},Re=ie(He,[["__scopeId","data-v-c392746d"]]),x=[{id:"noip",name:"No-IP",icon:"mdi:ip-network-outline",fields:[{name:"hostname",label:"dynamicDns.hostname",type:"text",required:!0},{name:"username",label:"dynamicDns.username",type:"text",required:!0},{name:"password",label:"dynamicDns.password",type:"password",required:!0}]},{id:"dyndns",name:"DynDNS",icon:"mdi:ip",fields:[{name:"hostname",label:"dynamicDns.hostname",type:"text",required:!0},{name:"username",label:"dynamicDns.username",type:"text",required:!0},{name:"password",label:"dynamicDns.password",type:"password",required:!0}]},{id:"duckdns",name:"DuckDNS",icon:"mdi:duck",fields:[{name:"hostname",label:"dynamicDns.hostname",type:"text",required:!0},{name:"token",label:"dynamicDns.token",type:"password",required:!0}]},{id:"cloudflare",name:"Cloudflare",icon:"mdi:cloud",fields:[{name:"zone_id",label:"dynamicDns.zoneId",type:"text",required:!0},{name:"record_id",label:"dynamicDns.recordId",type:"text",required:!0},{name:"api_key",label:"dynamicDns.apiKey",type:"password",required:!0},{name:"email",label:"dynamicDns.email",type:"email",required:!0}]},{id:"godaddy",name:"GoDaddy",icon:"mdi:domain",fields:[{name:"domain",label:"dynamicDns.domain",type:"text",required:!0},{name:"api_key",label:"dynamicDns.apiKey",type:"password",required:!0},{name:"api_secret",label:"dynamicDns.apiSecret",type:"password",required:!0}]},{id:"namecheap",name:"Namecheap",icon:"mdi:tag",fields:[{name:"hostname",label:"dynamicDns.hostname",type:"text",required:!0},{name:"password",label:"dynamicDns.password",type:"password",required:!0}]},{id:"custom",name:"Custom Provider",icon:"mdi:cog",fields:[{name:"hostname",label:"dynamicDns.hostname",type:"text",required:!0},{name:"update_url",label:"dynamicDns.updateUrl",type:"text",required:!0},{name:"username",label:"dynamicDns.username",type:"text",required:!1},{name:"password",label:"dynamicDns.password",type:"password",required:!1}]}],Ke={dynamicDns:{title:"Dynamic DNS",configuredServices:"Configured Services",addService:"Add Service",editService:"Edit Service",service:"Service",hostname:"Hostname",username:"Username",password:"Password",token:"Token",apiKey:"API Key",email:"Email",zoneId:"Zone ID",recordId:"Record ID",lastUpdate:"Last Update",lastUpdateNever:"Never",status:"Status",actions:"Actions",provider:"Provider",enabled:"Enabled",settings:"Settings",updateInterval:"Update Interval",forceIpv4:"Force IPv4",forceIpv6:"Force IPv6",saveSettings:"Save Settings",save:"Save",cancel:"Cancel",selectProvider:"Select Provider",statuses:{active:"Active",error:"Error",disabled:"Disabled",pending:"Pending"},intervals:{"15m":"Every 15 minutes","30m":"Every 30 minutes","1h":"Every hour","2h":"Every 2 hours","6h":"Every 6 hours","12h":"Every 12 hours","24h":"Every 24 hours"},updateStatus:{success:"Update successful",failed:"Update failed",inProgress:"Update in progress"},fetchError:"Failed to load data",testSuccess:"Connection test successful",testFailed:"Connection test failed",testError:"Error during connection test",confirmDelete:"Are you sure you want to delete this service?",deleteError:"Failed to delete service",serviceDeleted:"Service deleted successfully",saveSettingsError:"Failed to save settings",saveServiceError:"Failed to save service",saving:"Saving...",edit:"Edit",test:"Test connection",delete:"Delete",noServices:"No services configured",serviceAdded:"Service added successfully",serviceUpdated:"Service updated successfully",settingsSaved:"Settings saved successfully",success:"Success",error:"Error",confirmDeleteTitle:"Confirm deletion",confirmDeleteMessage:"Are you sure you want to delete this service?",automaticUpdates:"Automatic Updates",cronDescription:"Automatic updates are configured to run every 30 minutes",lastAutoUpdate:"Last automatic update",updateNow:"Update now",cronDescription:"Automatic updates are configured to run every 30 minutes",lastAutoUpdate:"Last automatic update",updateNow:"Update now",cronUpdated:"Cron job updated to run every {interval}",installCron:"Enable automatic updates",installing:"Installing...",cronInstalled:"Automatic updates enabled successfully",cronInstallError:"Failed to enable automatic updates"}},Ge={dynamicDns:{title:"Dynamiczny DNS",subtitle:"Zarządzaj dynamicznym DNS dla swoich domen",updateNow:"Aktualizuj teraz",installCron:"Zainstaluj cron",installing:"Instalowanie...",configuredServices:"Skonfigurowane usługi",addService:"Dodaj usługę",loading:"Ładowanie...",noServices:"Brak skonfigurowanych usług",addFirstService:"Dodaj pierwszą usługę",service:"Usługa",hostname:"Nazwa hosta",username:"Nazwa użytkownika",lastUpdate:"Ostatnia aktualizacja",lastUpdateNever:"Nigdy",status:"Status",actions:"Akcje",edit:"Edytuj",test:"Testuj",enableDisable:"Włącz/Wyłącz",delete:"Usuń",settings:"Ustawienia",refresh:"Odśwież",error:"Błąd",updateInterval:"Interwał aktualizacji",intervalHint:"Jak często automatycznie aktualizować adresy IP",ipSettings:"Ustawienia IP",forceIpv4:"Wymuś IPv4",forceIpv6:"Wymuś IPv6",ipSettingsHint:"Wybierz które adresy IP mają być aktualizowane",notifications:"Powiadomienia",notifyOnError:"Powiadom o błędach",notifyOnSuccess:"Powiadom o sukcesach",saving:"Zapisywanie...",saveSettings:"Zapisz ustawienia",reset:"Resetuj",info:"Informacje",cronDescription:"Zadanie cron jest wymagane do automatycznych aktualizacji.",lastAutoUpdate:"Ostatnia automatyczna aktualizacja",never:"Nigdy",cronInstalledStatus:"Zadanie cron zainstalowane",cronNotInstalledStatus:"Zadanie cron nie zainstalowane",totalServices:"Wszystkich usług",activeServices:"Aktywnych usług",intervals:{"15m":"Co 15 minut","30m":"Co 30 minut","1h":"Co godzinę","2h":"Co 2 godziny","6h":"Co 6 godzin","12h":"Co 12 godzin","24h":"Co 24 godziny"},statuses:{active:"Aktywny",error:"Błąd",disabled:"Wyłączony",pending:"Oczekujący"},editService:"Edytuj usługę",addService:"Dodaj usługę",provider:"Dostawca",selectProvider:"Wybierz dostawcę",enabled:"Włączony",disabled:"Wyłączony",cancel:"Anuluj",save:"Zapisz",missingFields:"Brakujące pola: {fields}",testingService:"Testowanie usługi...",testSuccess:"Test zakończony sukcesem",testFailed:"Test nie powiódł się",testError:"Błąd podczas testowania usługi",serviceEnabled:"Usługa włączona",serviceDisabled:"Usługa wyłączona",toggleError:"Błąd podczas zmiany stanu usługi",deleteConfirm:"Czy na pewno chcesz usunąć tę usługę?",confirmation:"Potwierdzenie",serviceDeleted:"Usługa została usunięta",deleteError:"Błąd podczas usuwania usługi",fetchError:"Błąd podczas pobierania danych",settingsSaved:"Ustawienia zapisane",saveSettingsError:"Błąd podczas zapisywania ustawień",serviceUpdated:"Usługa zaktualizowana",serviceAdded:"Usługa dodana",saveServiceError:"Błąd podczas zapisywania usługi",automaticUpdates:"Automatyczne aktualizacje",updateStatus:{inProgress:"Aktualizacja w toku...",success:"Wszystkie usługi zaktualizowane pomyślnie",failed:"Aktualizacja nie powiodła się"},cronInstalled:"Zadanie cron zostało zainstalowane",cronInstallError:"Błąd podczas instalowania zadań cron",justNow:"Przed chwilą",minutesAgo:"{minutes} minut temu",hoursAgo:"{hours} godzin temu",daysAgo:"{days} dni temu",zoneId:"ID strefy",recordId:"ID rekordu",apiKey:"Klucz API",email:"Email",token:"Token",domain:"Domena",apiSecret:"Sekret API",password:"Hasło",updateUrl:"URL aktualizacji"}},Je={class:"header-content"},Qe={class:"header-left"},Xe={class:"header-icon"},Ye={class:"header-text"},xe={class:"subtitle"},ea={class:"header-actions"},aa={class:"dynamic-dns-content"},na={class:"card-header"},ta={class:"card-header-actions"},sa={key:0,class:"loading-spinner"},ia={key:2,class:"services-table"},la={class:"service-cell"},oa={class:"service-name"},da={class:"last-update-cell"},ra={class:"service-actions"},ca={class:"card-header"},ua={class:"card-header-actions"},ma={key:0,class:"error-message"},va={class:"settings-hint"},pa={class:"ip-settings"},ya={class:"checkbox-label"},fa={class:"checkbox-label"},ga={class:"settings-hint"},ha={class:"notification-settings"},Da={class:"checkbox-label"},ba={class:"checkbox-label"},_a={class:"settings-info"},wa={class:"info-items"},ka={class:"info-item info"},Sa={class:"info-item info"},za={class:"info-item info"},$a={__name:"DynamicDns",setup(Z){const{t,mergeLocaleMessage:T}=le();oe(),T("en",Ke),T("pl",Ge);const j=w([]),v=w({updateInterval:"30m",forceIpv4:!1,forceIpv6:!1,notifyOnError:!0,notifyOnSuccess:!1}),N=w(!1),h=w(null),f=w(!1),A=w(null),D=w(!1),F=w(null),U=w(!1),I=w(!1),c=w(!1),b=w(null),S=w(null),M=w(null),Q=J(()=>[{value:"15m",title:t("dynamicDns.intervals.15m")},{value:"30m",title:t("dynamicDns.intervals.30m")},{value:"1h",title:t("dynamicDns.intervals.1h")},{value:"2h",title:t("dynamicDns.intervals.2h")},{value:"6h",title:t("dynamicDns.intervals.6h")},{value:"12h",title:t("dynamicDns.intervals.12h")},{value:"24h",title:t("dynamicDns.intervals.24h")}]),X=J(()=>j.value.filter(e=>e.status==="active"&&e.enabled).length);async function E(){try{f.value=!0,A.value=null;const[e,l]=await Promise.all([z.get("/network/dynamic-dns"),z.get("/network/dynamic-dns/settings")]);j.value=e.data.services||[],v.value=l.data.settings||{updateInterval:"30m",forceIpv4:!1,forceIpv6:!1,notifyOnError:!0,notifyOnSuccess:!1},F.value=l.data.lastAutoUpdate||null}catch(e){console.error("Error fetching data:",e),A.value=t("dynamicDns.fetchError"),G.error(t("dynamicDns.fetchError"))}finally{f.value=!1}}function u(e){const l=x.find(p=>p.id===e);return l?l.name:e}function Y(e){const l=x.find(p=>p.id===e);return l?l.icon:"mdi:help-circle"}function de(e){return{cloudflare:"#f38020",godaddy:"#ff7900",namecheap:"#ff7800",duckdns:"#d75813",noip:"#00aaff",dyndns:"#0072ce"}[e]||"#3b82f6"}function re(e){return{active:"success",error:"danger",disabled:"warning",pending:"info"}[e]||"info"}function ce(e){return e?new Date(e).toLocaleString():"-"}function ne(e){if(!e)return t("dynamicDns.never");const l=new Date(e),O=Math.floor((new Date-l)/(1e3*60)),V=Math.floor(O/60),_=Math.floor(V/24);return O<1?t("dynamicDns.justNow"):O<60?t("dynamicDns.minutesAgo",{minutes:O}):V<24?t("dynamicDns.hoursAgo",{hours:V}):_<7?t("dynamicDns.daysAgo",{days:_}):ce(e)}function ue(e){if(!e)return!1;const l=new Date(e);return new Date-l<30*60*1e3}function te(){h.value=null,N.value=!0}function me(e){h.value={...e},N.value=!0}async function se(e){try{b.value=e.id,G.info(t("dynamicDns.testingService")),(await z.post(`/network/dynamic-dns/${e.id}/update`)).data.success?(k({title:t("dynamicDns.success"),message:t("dynamicDns.testSuccess"),type:"success",duration:5e3}),await E()):k({title:t("dynamicDns.error"),message:t("dynamicDns.testFailed"),type:"error",duration:5e3})}catch(l){console.error("Error testing service:",l),k({title:t("dynamicDns.error"),message:t("dynamicDns.testError"),type:"error",duration:5e3})}finally{b.value=null}}async function ve(e,l){try{M.value=e,(await z.patch(`/network/dynamic-dns/${e}`,{enabled:l})).data.success&&(G.success(t(l?"dynamicDns.serviceEnabled":"dynamicDns.serviceDisabled")),await E())}catch(p){console.error("Error toggling service:",p),G.error(t("dynamicDns.toggleError"))}finally{M.value=null}}async function pe(e){try{await Ne.confirm(t("dynamicDns.deleteConfirm"),t("dynamicDns.confirmation"),{type:"warning",confirmButtonText:t("dynamicDns.delete"),cancelButtonText:t("dynamicDns.cancel"),confirmButtonClass:"el-button--danger",customClass:"dynamic-dns-confirm-dialog"}),S.value=e,await z.delete(`/network/dynamic-dns/${e}`),k({title:t("dynamicDns.success"),message:t("dynamicDns.serviceDeleted"),type:"success",duration:3e3}),await E()}catch(l){l!=="cancel"&&(console.error("Error deleting service:",l),k({title:t("dynamicDns.error"),message:t("dynamicDns.deleteError"),type:"error",duration:5e3}))}finally{S.value=null}}async function ye(){try{D.value=!0;const e=await z.post("/network/dynamic-dns/settings",{settings:v.value});k({title:t("dynamicDns.success"),message:t("dynamicDns.settingsSaved"),type:"success",duration:5e3})}catch(e){console.error("Error saving settings:",e),k({title:t("dynamicDns.error"),message:t("dynamicDns.saveSettingsError"),type:"error",duration:5e3})}finally{D.value=!1}}function fe(){v.value={updateInterval:"30m",forceIpv4:!1,forceIpv6:!1,notifyOnError:!0,notifyOnSuccess:!1}}async function ge(e){try{e.id?(await z.put(`/network/dynamic-dns/${e.id}`,e),k({title:t("dynamicDns.success"),message:t("dynamicDns.serviceUpdated"),type:"success",duration:3e3})):(await z.post("/network/dynamic-dns",e),k({title:t("dynamicDns.success"),message:t("dynamicDns.serviceAdded"),type:"success",duration:3e3})),await E()}catch(l){console.error("Error saving service:",l),k({title:t("dynamicDns.error"),message:t("dynamicDns.saveServiceError"),type:"error",duration:5e3})}}async function he(){try{U.value=!0,k({title:t("dynamicDns.automaticUpdates"),message:t("dynamicDns.updateStatus.inProgress"),type:"info",duration:3e3});const e=await z.post("/network/dynamic-dns/update-all");F.value=new Date().toISOString(),k({title:t("dynamicDns.automaticUpdates"),message:t("dynamicDns.updateStatus.success"),type:"success",duration:5e3}),await E()}catch(e){console.error("Error updating all services:",e),k({title:t("dynamicDns.automaticUpdates"),message:t("dynamicDns.updateStatus.failed"),type:"error",duration:5e3})}finally{U.value=!1}}async function De(){try{const e=await z.get("/network/dynamic-dns/cron-status");I.value=e.data.installed||!1}catch(e){console.error("Error checking cron status:",e),I.value=!1}}async function be(){try{if(c.value=!0,(await z.post("/network/dynamic-dns/install-cron")).data.success)k({title:t("dynamicDns.success"),message:t("dynamicDns.cronInstalled"),type:"success",duration:5e3}),I.value=!0;else throw new Error("Installation failed")}catch(e){console.error("Error installing cron:",e),k({title:t("dynamicDns.error"),message:t("dynamicDns.cronInstallError"),type:"error",duration:5e3})}finally{c.value=!1}}return Ae(()=>{E(),De()}),(e,l)=>{const p=y("el-button"),O=y("el-button-group"),V=y("el-card"),_=y("el-icon"),_e=y("el-empty"),B=y("el-table-column"),W=y("el-tooltip"),we=y("el-tag"),ke=y("el-table"),Se=y("el-alert"),ze=y("el-option"),$e=y("el-select"),H=y("el-form-item"),R=y("el-checkbox"),Ie=y("el-form"),Ee=y("el-divider"),Ue=Pe("loading");return g(),$("div",{class:L(["dynamic-dns-dashboard",e.themeClass])},[a(V,{class:"dashboard-header",shadow:"hover"},{default:n(()=>[s("div",Je,[s("div",Qe,[s("div",Xe,[a(o(r),{icon:"mdi:ip-network"})]),s("div",Ye,[s("h1",null,d(e.$t("dynamicDns.title")),1),s("p",xe,d(e.$t("dynamicDns.subtitle")),1)])]),s("div",ea,[a(O,null,{default:n(()=>[a(p,{type:"primary",onClick:he,disabled:U.value||f.value,loading:U.value},{default:n(()=>[a(o(r),{icon:"mdi:refresh"}),m(" "+d(e.$t("dynamicDns.updateNow")),1)]),_:1},8,["disabled","loading"]),I.value?q("",!0):(g(),C(p,{key:0,type:"warning",onClick:be,disabled:c.value||f.value,loading:c.value},{default:n(()=>[a(o(r),{icon:c.value?"mdi:loading":"mdi:calendar-clock"},null,8,["icon"]),m(" "+d(c.value?e.$t("dynamicDns.installing"):e.$t("dynamicDns.installCron")),1)]),_:1},8,["disabled","loading"]))]),_:1})])])]),_:1}),s("div",aa,[a(V,{class:"services-card",shadow:"hover"},{header:n(()=>[s("div",na,[s("h2",null,[a(o(r),{icon:"mdi:web"}),m(" "+d(e.$t("dynamicDns.configuredServices")),1)]),s("div",ta,[a(p,{type:"primary",onClick:te,disabled:f.value,loading:f.value},{default:n(()=>[a(o(r),{icon:f.value?"mdi:loading":"mdi:plus"},null,8,["icon"]),m(" "+d(e.$t("dynamicDns.addService")),1)]),_:1},8,["disabled","loading"])])])]),default:n(()=>[f.value?(g(),$("div",sa,[a(_,{size:48,class:"is-loading"},{default:n(()=>[a(o(r),{icon:"mdi:loading"})]),_:1}),s("p",null,d(e.$t("dynamicDns.loading")),1)])):j.value.length===0?(g(),C(_e,{key:1,description:e.$t("dynamicDns.noServices"),class:"empty-state"},{image:n(()=>[a(o(r),{icon:"mdi:web-off",width:"120",height:"120"})]),extra:n(()=>[a(p,{type:"primary",onClick:te},{default:n(()=>[a(o(r),{icon:"mdi:plus"}),m(" "+d(e.$t("dynamicDns.addFirstService")),1)]),_:1})]),_:1},8,["description"])):(g(),$("div",ia,[je((g(),C(ke,{data:j.value,style:{width:"100%"},"empty-text":e.$t("dynamicDns.noServices"),stripe:"",border:""},{default:n(()=>[a(B,{prop:"provider",label:e.$t("dynamicDns.service"),width:"180",sortable:""},{default:n(({row:i})=>[s("div",la,[a(_,{size:20,color:de(i.provider)},{default:n(()=>[a(o(r),{icon:Y(i.provider)},null,8,["icon"])]),_:2},1032,["color"]),s("span",oa,d(u(i.provider)),1)])]),_:1},8,["label"]),a(B,{prop:"hostname",label:e.$t("dynamicDns.hostname"),sortable:""},null,8,["label"]),a(B,{prop:"username",label:e.$t("dynamicDns.username"),width:"150"},null,8,["label"]),a(B,{prop:"lastUpdate",label:e.$t("dynamicDns.lastUpdate"),width:"180",sortable:""},{default:n(({row:i})=>[s("div",da,[a(W,{content:i.lastUpdate?new Date(i.lastUpdate).toLocaleString():e.$t("dynamicDns.never")},{default:n(()=>[s("span",{class:L({"text-warning":!i.lastUpdate,"text-success":ue(i.lastUpdate)})},d(i.lastUpdate?ne(i.lastUpdate):e.$t("dynamicDns.never")),3)]),_:2},1032,["content"]),i.lastUpdate?q("",!0):(g(),C(p,{key:0,size:"small",circle:"",onClick:P(K=>se(i),["stop"]),title:e.$t("dynamicDns.updateNow")},{default:n(()=>[a(o(r),{icon:"mdi:refresh"})]),_:2},1032,["onClick","title"]))])]),_:1},8,["label"]),a(B,{prop:"status",label:e.$t("dynamicDns.status"),width:"120",sortable:""},{default:n(({row:i})=>[a(we,{type:re(i.status),effect:i.status==="active"?"dark":"plain",size:"small",round:"",class:L(`status-${i.status}`)},{default:n(()=>[i.status==="active"?(g(),C(_,{key:0,class:"mr-1"},{default:n(()=>[a(o(r),{icon:"mdi:check-circle"})]),_:1})):i.status==="error"?(g(),C(_,{key:1,class:"mr-1"},{default:n(()=>[a(o(r),{icon:"mdi:alert-circle"})]),_:1})):(g(),C(_,{key:2,class:"mr-1"},{default:n(()=>[a(o(r),{icon:"mdi:information"})]),_:1})),m(" "+d(e.$t(`dynamicDns.statuses.${i.status}`)),1)]),_:2},1032,["type","effect","class"])]),_:1},8,["label"]),a(B,{label:e.$t("dynamicDns.actions"),width:"200",align:"center",fixed:"right"},{default:n(({row:i})=>[s("div",ra,[a(W,{content:e.$t("dynamicDns.edit"),placement:"top"},{default:n(()=>[a(p,{size:"small",circle:"",onClick:P(K=>me(i),["stop"])},{default:n(()=>[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:pencil"})]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["content"]),a(W,{content:e.$t("dynamicDns.test"),placement:"top"},{default:n(()=>[a(p,{size:"small",type:"primary",circle:"",onClick:P(K=>se(i),["stop"]),loading:b.value===i.id},{default:n(()=>[a(_,null,{default:n(()=>[a(o(r),{icon:b.value===i.id?"mdi:loading":"mdi:connection"},null,8,["icon"])]),_:2},1024)]),_:2},1032,["onClick","loading"])]),_:2},1032,["content"]),a(W,{content:e.$t("dynamicDns.enableDisable"),placement:"top"},{default:n(()=>[a(p,{size:"small",type:i.enabled?"warning":"success",circle:"",onClick:P(K=>ve(i.id,!i.enabled),["stop"]),loading:M.value===i.id},{default:n(()=>[a(_,null,{default:n(()=>[a(o(r),{icon:i.enabled?"mdi:toggle-switch-off":"mdi:toggle-switch"},null,8,["icon"])]),_:2},1024)]),_:2},1032,["type","onClick","loading"])]),_:2},1032,["content"]),a(W,{content:e.$t("dynamicDns.delete"),placement:"top"},{default:n(()=>[a(p,{size:"small",type:"danger",circle:"",onClick:P(K=>pe(i.id),["stop"]),loading:S.value===i.id},{default:n(()=>[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:delete"})]),_:1})]),_:2},1032,["onClick","loading"])]),_:2},1032,["content"])])]),_:1},8,["label"])]),_:1},8,["data","empty-text"])),[[Ue,f.value]])]))]),_:1}),a(V,{class:"settings-card",shadow:"hover"},{header:n(()=>[s("div",ca,[s("h2",null,[a(o(r),{icon:"mdi:cog"}),m(" "+d(e.$t("dynamicDns.settings")),1)]),s("div",ua,[a(p,{type:"info",onClick:E,loading:f.value,disabled:f.value},{default:n(()=>[a(o(r),{icon:f.value?"mdi:loading":"mdi:refresh"},null,8,["icon"]),m(" "+d(e.$t("dynamicDns.refresh")),1)]),_:1},8,["loading","disabled"])])])]),default:n(()=>[A.value?(g(),$("div",ma,[a(Se,{title:e.$t("dynamicDns.error"),description:A.value,type:"error","show-icon":"",closable:"",onClose:l[0]||(l[0]=i=>A.value=null)},null,8,["title","description"])])):q("",!0),a(Ie,{model:v.value,"label-width":"180px","label-position":"left",onSubmit:P(ye,["prevent"]),class:"settings-form",disabled:D.value},{default:n(()=>[a(H,{label:e.$t("dynamicDns.updateInterval")},{default:n(()=>[a($e,{modelValue:v.value.updateInterval,"onUpdate:modelValue":l[1]||(l[1]=i=>v.value.updateInterval=i),class:"settings-select",disabled:D.value},{default:n(()=>[(g(!0),$(ee,null,ae(Q.value,i=>(g(),C(ze,{key:i.value,label:i.title,value:i.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s("span",va,d(e.$t("dynamicDns.intervalHint")),1)]),_:1},8,["label"]),a(H,{label:e.$t("dynamicDns.ipSettings")},{default:n(()=>[s("div",pa,[a(R,{modelValue:v.value.forceIpv4,"onUpdate:modelValue":l[2]||(l[2]=i=>v.value.forceIpv4=i),label:e.$t("dynamicDns.forceIpv4"),disabled:D.value},{default:n(()=>[s("span",ya,[a(o(r),{icon:"mdi:ip-outline",class:"mr-1"}),m(" "+d(e.$t("dynamicDns.forceIpv4")),1)])]),_:1},8,["modelValue","label","disabled"]),a(R,{modelValue:v.value.forceIpv6,"onUpdate:modelValue":l[3]||(l[3]=i=>v.value.forceIpv6=i),label:e.$t("dynamicDns.forceIpv6"),disabled:D.value,class:"ml-4"},{default:n(()=>[s("span",fa,[a(o(r),{icon:"mdi:ip-network-outline",class:"mr-1"}),m(" "+d(e.$t("dynamicDns.forceIpv6")),1)])]),_:1},8,["modelValue","label","disabled"])]),s("span",ga,d(e.$t("dynamicDns.ipSettingsHint")),1)]),_:1},8,["label"]),a(H,{label:e.$t("dynamicDns.notifications")},{default:n(()=>[s("div",ha,[a(R,{modelValue:v.value.notifyOnError,"onUpdate:modelValue":l[4]||(l[4]=i=>v.value.notifyOnError=i),label:e.$t("dynamicDns.notifyOnError"),disabled:D.value},{default:n(()=>[s("span",Da,[a(o(r),{icon:"mdi:alert-circle",class:"mr-1"}),m(" "+d(e.$t("dynamicDns.notifyOnError")),1)])]),_:1},8,["modelValue","label","disabled"]),a(R,{modelValue:v.value.notifyOnSuccess,"onUpdate:modelValue":l[5]||(l[5]=i=>v.value.notifyOnSuccess=i),label:e.$t("dynamicDns.notifyOnSuccess"),disabled:D.value,class:"ml-4"},{default:n(()=>[s("span",ba,[a(o(r),{icon:"mdi:check-circle",class:"mr-1"}),m(" "+d(e.$t("dynamicDns.notifyOnSuccess")),1)])]),_:1},8,["modelValue","label","disabled"])])]),_:1},8,["label"]),a(H,null,{default:n(()=>[a(p,{type:"primary","native-type":"submit",loading:D.value,disabled:D.value},{default:n(()=>[a(o(r),{icon:D.value?"mdi:loading":"mdi:content-save"},null,8,["icon"]),m(" "+d(D.value?e.$t("dynamicDns.saving"):e.$t("dynamicDns.saveSettings")),1)]),_:1},8,["loading","disabled"]),a(p,{onClick:fe,disabled:D.value},{default:n(()=>[a(o(r),{icon:"mdi:restore"}),m(" "+d(e.$t("dynamicDns.reset")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model","disabled"]),a(Ee,null,{default:n(()=>[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:information"})]),_:1}),m(" "+d(e.$t("dynamicDns.info")),1)]),_:1}),s("div",_a,[s("p",null,d(e.$t("dynamicDns.cronDescription")),1),s("div",wa,[s("div",{class:L(["info-item",{success:I.value,warning:!I.value}])},[a(_,null,{default:n(()=>[a(o(r),{icon:I.value?"mdi:check-circle":"mdi:alert-circle"},null,8,["icon"])]),_:1}),s("span",null,d(I.value?e.$t("dynamicDns.cronInstalledStatus"):e.$t("dynamicDns.cronNotInstalledStatus")),1)],2),s("div",ka,[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:clock-check"})]),_:1}),s("span",null,d(e.$t("dynamicDns.lastAutoUpdate"))+": "+d(F.value?ne(F.value):e.$t("dynamicDns.never")),1)]),s("div",Sa,[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:counter"})]),_:1}),s("span",null,d(e.$t("dynamicDns.totalServices"))+": "+d(j.value.length),1)]),s("div",za,[a(_,null,{default:n(()=>[a(o(r),{icon:"mdi:check-circle"})]),_:1}),s("span",null,d(e.$t("dynamicDns.activeServices"))+": "+d(X.value),1)])])])]),_:1})]),a(Re,{show:N.value,service:h.value,providers:o(x),"onUpdate:show":l[6]||(l[6]=i=>N.value=i),onSave:ge},null,8,["show","service","providers"])],2)}}},Ua=ie($a,[["__scopeId","data-v-b42be98f"]]);export{Ua as default};
